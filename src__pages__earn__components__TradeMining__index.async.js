"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6348],{13596:function(ke,k,t){t.r(k),t.d(k,{default:function(){return q}});var F=t(13769),S=t.n(F),Y=t(97857),i=t.n(Y),G=t(15009),R=t.n(G),T=t(99289),K=t.n(T),C=t(5574),o=t.n(C),l=t(67294),O=t(75302),U=t(92195),P=t(27790),v=t(71230),a=t(7075),X=t(57953),h=t(15746),H=t(31530),B=t(41687),J=t(12699),j=t(93417),z=t(6377),Q=t(90494),w=t(21035),e=t(85893),p=["defaultAction"],oe=["show","onClose"],le=O.ZP.useBreakpoint,Z=function(u){var c=u.currentStake,n=u.actionType,d=(0,B.useModel)("chain"),f=d.chain,x=d.wallet,A=d.updateStake,de=d.stakeInfoList,_=U.Z.useToken(),I=_.token,b=I.colorTextSecondary,ie=I.fontSizeSM,Te=I.colorInfoBg,Ce=I.borderRadius,pe=I.paddingSM,Ze=(0,B.useIntl)(),ue=Ze.formatMessage;if(!f||!x)return(0,e.jsx)(e.Fragment,{});var Ae=(0,l.useState)(!1),ce=o()(Ae,2),Ie=ce[0],E=ce[1],Me=(0,l.useState)(0),he=o()(Me,2),M=he[0],Ne=he[1],Re=(0,l.useState)(""),ve=o()(Re,2),fe=ve[0],Pe=ve[1],Be=(0,l.useState)(c),me=o()(Be,2),r=me[0],ze=me[1],We=(0,l.useState)(),Se=o()(We,2),Le=Se[0],Ve=Se[1],$e=(0,l.useState)(),xe=o()($e,2),ye=xe[0],L=xe[1],V=(0,l.useMemo)(function(){return Number(n==="remove"?r.userAccountStaked:r.userLpBalance)},[n,r]);(0,l.useEffect)(function(){Pe("")},[r,M]);var je=function(m){Ne(m)},be=function(){var y=K()(R()().mark(function m(){var D,N,te,ne,ge,ae,re,se;return R()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(E(!0),n!=="add"){s.next=15;break}return s.next=4,(0,z.LK)({chain:f,wallet:x,stakeItem:r,amountIn:M});case 4:if(D=s.sent,N=o()(D,2),te=N[0],ne=N[1],!ne){s.next=12;break}return P.ZP.error(ne.error),E(!1),s.abrupt("return");case 12:te&&L({show:!0,onClose:function(){L(void 0)},type:"addMargin",title:"Stake Success",hash:te.hash,okText:"Close"}),s.next=26;break;case 15:return s.next=17,(0,z.fD)({chain:f,wallet:x,stakeItem:r,amountIn:M});case 17:if(ge=s.sent,ae=o()(ge,2),re=ae[0],se=ae[1],!se){s.next=25;break}return P.ZP.error(se.error),E(!1),s.abrupt("return");case 25:re&&L({show:!0,onClose:function(){L(void 0)},type:"removeMargin",title:"Unstake Success",hash:re.hash,okText:"Close"});case 26:return s.next=28,A();case 28:E(!1);case 29:case"end":return s.stop()}},m)}));return function(){return y.apply(this,arguments)}}(),ee=function(m){var D=m.label,N=m.children;return(0,e.jsxs)(v.Z,{className:"InputCardTip",children:[(0,e.jsxs)(a.Z.Text,{style:{fontSize:13,color:b},children:[" ",D]}),(0,e.jsxs)(a.Z.Text,{style:{fontSize:13,color:b},children:[" ",N]})]})};return(0,e.jsxs)(X.Z,{spinning:Ie,children:[(0,e.jsxs)(v.Z,{gutter:[10,10],className:"hayMarginWrap",children:[(0,e.jsx)(h.Z,{span:24,className:"card",children:(0,e.jsx)(Q.Z,{tokenList:de,currentToken:r,onTokenChange:function(m){ze(m)},amount:M,onAmountChange:je,minValue:0,type:"lpToken",maxValue:V,header:n==="add"?(0,e.jsxs)("div",{className:"label",children:[(0,e.jsx)("div",{children:"\xA0"}),(0,e.jsxs)("div",{children:["Balance:\xA0",(0,e.jsx)("span",{className:"linkColor",onClick:function(){return je(V)},children:V})]})]}):(0,e.jsxs)("div",{className:"label",children:[(0,e.jsx)("div",{children:"\xA0"}),(0,e.jsxs)("div",{children:["Staked: ",(0,e.jsx)("span",{className:"linkColor",children:V})]})]})})}),(0,e.jsx)(h.Z,{children:(0,e.jsx)(a.Z.Paragraph,{children:(0,e.jsx)(a.Z.Text,{style:{color:b,fontSize:ie},children:"Stake ".concat(r.lpSymbol," to earn a ").concat(r.stakeApr," APR yield from OT fee distribution")})})}),(0,e.jsx)(h.Z,{span:24,children:(0,e.jsxs)("div",{style:{flexDirection:"column",color:b,background:Te,borderRadius:Ce,padding:pe,fontSize:ie},children:[(0,e.jsxs)(ee,{label:"Total Staked",children:[r.userTotalStaked," ",r.lpSymbol," token"]}),(0,e.jsx)(ee,{label:"Staking APR",children:r.stakeApr}),(0,e.jsxs)(ee,{label:"Your Staked Position",children:[r.userAccountStaked," ",r.lpSymbol]})]})}),(0,e.jsx)(h.Z,{span:24,children:(0,e.jsx)(J.Z,{height:50,onClick:be,conditions:[{condition:!!fe,text:fe,type:"default",onClick:function(){}},{condition:!M,text:"Enter Amount",type:"default",onClick:function(){}}],children:ue(n==="add"?{id:"stake"}:{id:"unstake"})})})]}),ye&&(0,e.jsx)(w.Z,i()({},ye))]})},g=function(u){var c=u.defaultAction,n=S()(u,p),d=(0,l.useState)(),f=o()(d,2),x=f[0],A=f[1];return(0,l.useEffect)(function(){A(c)},[c]),(0,e.jsxs)(v.Z,{gutter:[10,10],className:"Stake-Comp",children:[(0,e.jsx)(h.Z,{span:"24",children:(0,e.jsx)(H.Z,{style:{width:"100%"},value:x,onChange:function(_){return A(_)},block:!0,options:[{label:(0,e.jsx)("div",{style:{padding:4},children:(0,e.jsx)("div",{children:"Stake"})}),value:"add"},{label:(0,e.jsx)("div",{style:{padding:4},children:(0,e.jsx)("div",{children:"Unstake"})}),value:"remove"}]})}),(0,e.jsx)(h.Z,{span:"24",style:{overflow:"hidden"},children:(0,e.jsxs)(v.Z,{wrap:!1,gutter:[20,20],style:{transform:"translateX(".concat(x==="add"?"0":"-100","%)"),transition:"transform .4s ease-in-out"},children:[(0,e.jsx)(h.Z,{span:"24",children:(0,e.jsx)(Z,i()(i()({},i()({},n)),{},{actionType:"add"}))}),(0,e.jsx)(h.Z,{span:"24",children:(0,e.jsx)(Z,i()(i()({},i()({},n)),{},{actionType:"remove"}))})]})})]})},W=function(u){var c=u.show,n=u.onClose,d=S()(u,oe);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(j.Z,{show:c,onClose:n,closable:!1,maskClosable:!0,children:(0,e.jsx)(g,i()({},d))})})},q=W},14256:function(ke,k,t){t.r(k),t.d(k,{default:function(){return h}});var F=t(97857),S=t.n(F),Y=t(5574),i=t.n(Y),G=t(75302),R=t(92195),T=t(7075),K=t(71577),C=t(76870),o=t(41687),l=t(36913),O=t(37373),U=t(13596),P=t(83630),v=t(67294),a=t(85893),X=G.ZP.useBreakpoint;function h(){var H=(0,o.useModel)("chain"),B=H.tradeStake,J=(0,o.useIntl)(),j=J.formatMessage,z=X(),Q=z.md,w=(0,v.useState)(),e=i()(w,2),p=e[0],oe=e[1],le=(0,v.useState)(),Z=i()(le,2),g=Z[0],W=Z[1],q=R.Z.useToken(),$=q.token.colorInfoBg,u={conf:{cardName:(0,a.jsx)(T.Z.Text,{style:{fontSize:24,fontWeight:500},children:"Trade mining"}),rowKey:"name",header:{title:(0,a.jsx)(T.Z.Text,{style:{fontSize:16,fontWeight:500},children:"Trade mining"}),dataIndex:"name",key:"name",render:function(n){return(0,a.jsx)(T.Z.Text,{style:{fontSize:16,fontWeight:500},children:n})}},desc:[{title:j({id:"h_volume"}),dataIndex:"userVolume",key:"userVolume",align:"right",render:function(n,d){return(0,a.jsx)(C.Z,{value:n,useAbbr:!0})}},{title:j({id:"your_24h_volume"}),dataIndex:"userAccountVolume",key:"userAccountVolume",align:"right",render:function(n){return(0,a.jsx)(C.Z,{value:n,useAbbr:!0})}},{title:"24".concat(j({id:"h_yield"})),dataIndex:"userTradeYield",key:"userTradeYield",align:"right",render:function(n){return(0,a.jsx)("div",{className:"yield_wrap",children:(0,a.jsxs)("div",{className:"yield",style:{background:$},children:[(0,a.jsx)("img",{src:O.Z,className:"yield_icon"}),(0,a.jsx)(C.Z,{value:n})]})})}}],edit:[{title:j({id:"withdraw_yield"}),dataIndex:"yield",key:"yield",align:"center",render:function(n,d){var f=d.userTradeRewards;return(0,a.jsxs)(K.Z,{type:Q?"link":"primary",disabled:parseFloat(d.userTradeRewards)<=0,onClick:function(){W({amount:f,onClose:function(){return W(void 0)},show:!0,title:"Trade Yield",type:"trade"})},children:[f||"0"," OT"]})}}]},list:B};return(0,a.jsxs)("div",{className:"stakeTableWrap",children:[(0,a.jsx)(l.Z,S()({},u)),p&&(0,v.createElement)(U.default,S()(S()({},p),{},{key:p.currentStake.id})),g&&(0,v.createElement)(P.default,S()(S()({},g),{},{key:g.current&&g.current.id}))]})}}}]);
