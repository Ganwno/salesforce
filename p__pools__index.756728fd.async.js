"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([[429],{

/***/ 42754:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ HomePage; }
});

// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/objectSpread2.js
var objectSpread2 = __webpack_require__(97857);
var objectSpread2_default = /*#__PURE__*/__webpack_require__.n(objectSpread2);
// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/regeneratorRuntime.js
var regeneratorRuntime = __webpack_require__(15009);
var regeneratorRuntime_default = /*#__PURE__*/__webpack_require__.n(regeneratorRuntime);
// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(99289);
var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);
// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(5574);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/antd/es/grid/index.js
var grid = __webpack_require__(75302);
// EXTERNAL MODULE: ./node_modules/antd/es/theme/index.js + 5 modules
var theme = __webpack_require__(92195);
// EXTERNAL MODULE: ./node_modules/antd/es/typography/index.js + 20 modules
var typography = __webpack_require__(39965);
// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js
var es_button = __webpack_require__(71577);
// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 3 modules
var tooltip = __webpack_require__(83062);
// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js
var row = __webpack_require__(71230);
// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js
var col = __webpack_require__(15746);
// EXTERNAL MODULE: ./node_modules/antd/es/statistic/index.js + 5 modules
var statistic = __webpack_require__(55054);
// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 7 modules
var input = __webpack_require__(68863);
// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 120 modules
var table = __webpack_require__(15914);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var esm_objectSpread2 = __webpack_require__(1413);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/PlusCircleOutlined.js
// This icon file is generated automatically.
var PlusCircleOutlined = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z" } }, { "tag": "path", "attrs": { "d": "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" } }] }, "name": "plus-circle", "theme": "outlined" };
/* harmony default export */ var asn_PlusCircleOutlined = (PlusCircleOutlined);

// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 2 modules
var AntdIcon = __webpack_require__(84089);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY



var PlusCircleOutlined_PlusCircleOutlined = function PlusCircleOutlined(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_objectSpread2/* default */.Z)((0,esm_objectSpread2/* default */.Z)({}, props), {}, {
    ref: ref,
    icon: asn_PlusCircleOutlined
  }));
};
PlusCircleOutlined_PlusCircleOutlined.displayName = 'PlusCircleOutlined';
/* harmony default export */ var icons_PlusCircleOutlined = (/*#__PURE__*/react.forwardRef(PlusCircleOutlined_PlusCircleOutlined));
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/MinusCircleOutlined.js
// This icon file is generated automatically.
var MinusCircleOutlined = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z" } }, { "tag": "path", "attrs": { "d": "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" } }] }, "name": "minus-circle", "theme": "outlined" };
/* harmony default export */ var asn_MinusCircleOutlined = (MinusCircleOutlined);

;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY



var MinusCircleOutlined_MinusCircleOutlined = function MinusCircleOutlined(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_objectSpread2/* default */.Z)((0,esm_objectSpread2/* default */.Z)({}, props), {}, {
    ref: ref,
    icon: asn_MinusCircleOutlined
  }));
};
MinusCircleOutlined_MinusCircleOutlined.displayName = 'MinusCircleOutlined';
/* harmony default export */ var icons_MinusCircleOutlined = (/*#__PURE__*/react.forwardRef(MinusCircleOutlined_MinusCircleOutlined));
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/SearchOutlined.js + 1 modules
var SearchOutlined = __webpack_require__(68795);
// EXTERNAL MODULE: ./src/utils/utils.ts
var utils = __webpack_require__(66419);
// EXTERNAL MODULE: ./src/.umi-production/exports.ts + 35 modules
var _umi_production_exports = __webpack_require__(41687);
// EXTERNAL MODULE: ./src/services/contract/index.ts + 5 modules
var contract = __webpack_require__(95575);
// EXTERNAL MODULE: ./src/pages/pools/components/Details/index.tsx + 3 modules
var Details = __webpack_require__(13111);
// EXTERNAL MODULE: ./src/pages/pools/components/NewPool/index.tsx + 1 modules
var NewPool = __webpack_require__(87896);
// EXTERNAL MODULE: ./src/pages/pools/components/Borrow/index.tsx + 2 modules
var Borrow = __webpack_require__(69718);
// EXTERNAL MODULE: ./src/components/TokenIcon/index.tsx
var TokenIcon = __webpack_require__(80331);
// EXTERNAL MODULE: ./src/assets/svg/osd.svg
var osd = __webpack_require__(12168);
// EXTERNAL MODULE: ./src/pages/pools/components/EditLiq/index.tsx + 1 modules
var EditLiq = __webpack_require__(84775);
;// CONCATENATED MODULE: ./src/pages/pools/index.less
// extracted by mini-css-extract-plugin

// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./src/pages/pools/index.tsx
















var useBreakpoint = grid/* default.useBreakpoint */.ZP.useBreakpoint;




var statisticLayout = {
  md: 4,
  sm: 8,
  xs: 12
};
function HomePage() {
  var screens = useBreakpoint();

  var _theme$useToken = theme/* default.useToken */.Z.useToken(),
      _theme$useToken$token = _theme$useToken.token,
      colorPrimary = _theme$useToken$token.colorPrimary,
      colorBgMask = _theme$useToken$token.colorBgMask,
      colorFill = _theme$useToken$token.colorFill,
      colorBgContainer = _theme$useToken$token.colorBgContainer,
      colorText = _theme$useToken$token.colorText,
      colorTextSecondary = _theme$useToken$token.colorTextSecondary,
      borderRadius = _theme$useToken$token.borderRadius;

  var _useIntl = (0,_umi_production_exports.useIntl)(),
      formatMessage = _useIntl.formatMessage;

  var _useState = (0,react.useState)(''),
      _useState2 = slicedToArray_default()(_useState, 2),
      serachWord = _useState2[0],
      setSerachWord = _useState2[1];

  var _useModel = (0,_umi_production_exports.useModel)('chain'),
      poolTokenExtList = _useModel.poolTokenExtList,
      initLoading = _useModel.initLoading,
      chain = _useModel.chain,
      wallet = _useModel.wallet,
      osdData = _useModel.osdData;

  var _useModel2 = (0,_umi_production_exports.useModel)('future'),
      tokenPairs = _useModel2.tokenPairs;

  var _useState3 = (0,react.useState)([]),
      _useState4 = slicedToArray_default()(_useState3, 2),
      list = _useState4[0],
      setList = _useState4[1];

  var _useState5 = (0,react.useState)(null),
      _useState6 = slicedToArray_default()(_useState5, 2),
      current = _useState6[0],
      setCurrent = _useState6[1];

  var _useState7 = (0,react.useState)(false),
      _useState8 = slicedToArray_default()(_useState7, 2),
      showDetail = _useState8[0],
      setShowDatail = _useState8[1];

  var _useState9 = (0,react.useState)(false),
      _useState10 = slicedToArray_default()(_useState9, 2),
      showNewPool = _useState10[0],
      setShowNewPool = _useState10[1];

  var _useState11 = (0,react.useState)(false),
      _useState12 = slicedToArray_default()(_useState11, 2),
      showEditLip = _useState12[0],
      setShowEditLip = _useState12[1];

  var _useState13 = (0,react.useState)(),
      _useState14 = slicedToArray_default()(_useState13, 2),
      editLipAction = _useState14[0],
      setEditLipAction = _useState14[1];

  var _useState15 = (0,react.useState)(),
      _useState16 = slicedToArray_default()(_useState15, 2),
      editLipActionPool = _useState16[0],
      setEditLipActionPool = _useState16[1]; // Borrow


  var _useState17 = (0,react.useState)(false),
      _useState18 = slicedToArray_default()(_useState17, 2),
      showBorrowAction = _useState18[0],
      setShowBorrowAction = _useState18[1];

  var _useState19 = (0,react.useState)('borrow'),
      _useState20 = slicedToArray_default()(_useState19, 2),
      borrowAction = _useState20[0],
      setBorrowAction = _useState20[1];

  var _useState21 = (0,react.useState)(),
      _useState22 = slicedToArray_default()(_useState21, 2),
      borrowActionTarget = _useState22[0],
      setBorrowActionTarget = _useState22[1];

  var _useState23 = (0,react.useState)(),
      _useState24 = slicedToArray_default()(_useState23, 2),
      borrowPopupProps = _useState24[0],
      setBorrowPopupProps = _useState24[1];

  var _useState25 = (0,react.useState)(),
      _useState26 = slicedToArray_default()(_useState25, 2),
      liqPopupProps = _useState26[0],
      setLiqPopupProps = _useState26[1]; //


  var loading = (0,react.useMemo)(function () {
    return poolTokenExtList.length === 0 || initLoading;
  }, [poolTokenExtList, initLoading]);
  var statisticData = (0,react.useMemo)(function () {
    if (poolTokenExtList.length > 0) {
      var tvl = 0;
      var totalBorrowed = 0;
      var totalOsdRevenue = 0;
      poolTokenExtList.forEach(function (item) {
        var poolSize = item.poolSize,
            poolDebt = item.poolDebt,
            poolOsdRevenue = item.poolOsdRevenue;
        tvl += Number(poolSize);
        totalBorrowed += Number(poolDebt);
        totalOsdRevenue += Number(poolOsdRevenue);
      });
      return {
        tvl: (0,utils/* formatNumberToKMBT */.BF)(tvl, 2),
        totalBorrowed: (0,utils/* formatNumberToKMBT */.BF)(totalBorrowed, 2),
        totalOsdRevenue: (0,utils/* formatNumberToKMBT */.BF)(totalOsdRevenue, 2),
        AvailLiquidity: (0,utils/* formatNumberToKMBT */.BF)(tvl - totalBorrowed, 2)
      };
    }
  }, [poolTokenExtList]);

  var _useState27 = (0,react.useState)(),
      _useState28 = slicedToArray_default()(_useState27, 2),
      Fees = _useState28[0],
      setFees = _useState28[1];

  var _useState29 = (0,react.useState)('-'),
      _useState30 = slicedToArray_default()(_useState29, 2),
      Volume24H = _useState30[0],
      setVolume24H = _useState30[1];

  var _useState31 = (0,react.useState)('-'),
      _useState32 = slicedToArray_default()(_useState31, 2),
      Fee24H = _useState32[0],
      setFee24H = _useState32[1];

  var getFees = (0,react.useCallback)( /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime_default()().mark(function _callee() {
    var _yield$protocolFees, _yield$protocolFees2, ret, err;

    return regeneratorRuntime_default()().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!(tokenPairs.length > 0 && chain && wallet)) {
              _context.next = 10;
              break;
            }

            _context.next = 3;
            return (0,contract/* protocolFees */.e5)({
              tokenPairs: tokenPairs,
              chain: chain,
              wallet: wallet
            });

          case 3:
            _yield$protocolFees = _context.sent;
            _yield$protocolFees2 = slicedToArray_default()(_yield$protocolFees, 2);
            ret = _yield$protocolFees2[0];
            err = _yield$protocolFees2[1];

            if (!err) {
              _context.next = 9;
              break;
            }

            return _context.abrupt("return");

          case 9:
            if (ret) {
              setFees((0,utils/* formatNumberToKMBT */.BF)(ret.feesTotal, 2));
              setFee24H((0,utils/* formatNumberToKMBT */.BF)(ret.fees24H, 2));
              setVolume24H((0,utils/* formatNumberToKMBT */.BF)(ret.vol24H, 2));
            }

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  })), [tokenPairs, chain, wallet]);
  (0,react.useEffect)(function () {
    getFees();
  }, [getFees]);
  var openInterest = (0,react.useMemo)(function () {
    var _val = tokenPairs.reduce(function (a, b) {
      return a + b.totalLongSizeNumber + b.totalShortSizeNumber;
    }, 0);

    if (_val) return (0,utils/* formatNumberToKMBT */.BF)(_val, 2);
  }, [tokenPairs]);
  (0,react.useEffect)(function () {
    var tmp = poolTokenExtList;

    if (serachWord) {
      tmp = tmp.filter(function (item) {
        return item.fullName.toLowerCase().indexOf(serachWord.toLowerCase()) > -1 || item.id.toLowerCase().indexOf(serachWord.toLowerCase()) > -1;
      });
    }

    setList(tmp);
  }, [poolTokenExtList, serachWord]);

  var ShowDetail = function ShowDetail(record) {
    setCurrent(record);
    setShowDatail(true);
  };

  var handleBorrow = function handleBorrow(record) {
    setShowBorrowAction(true);
    setBorrowPopupProps({
      defaultAction: 'borrow',
      defaultTarget: record.id,
      key: new Date().getTime() + Math.random()
    });
  };

  var handleRepay = function handleRepay(record) {
    setShowBorrowAction(true);
    setBorrowPopupProps({
      defaultAction: 'repay',
      defaultTarget: record.id,
      key: new Date().getTime() + Math.random()
    });
  };

  var handleAddLiq = function handleAddLiq(record) {
    setLiqPopupProps({
      defaultAction: 'add',
      currentPool: record,
      key: new Date().getTime() + Math.random()
    });
    setShowEditLip(true);
  };

  var handleRemoveLiq = function handleRemoveLiq(record) {
    setLiqPopupProps({
      defaultAction: 'remove',
      currentPool: record,
      key: new Date().getTime() + Math.random()
    });
    setShowEditLip(true);
  };

  var columns = [{
    title: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
      className: "poolTableHeader",
      children: "Pools/Price(24H)"
    }),
    dataIndex: 'pools_price',
    key: 'pools_price',
    align: 'center',
    className: 'colHeader',
    render: function render(text, record) {
      var icon = record.icon,
          symbol = record.symbol,
          fullName = record.fullName,
          userOraclePriceLabel = record.userOraclePriceLabel,
          id = record.id;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
        className: "colToken",
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "info",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(TokenIcon/* default */.Z, {
            src: icon,
            tokenId: id,
            size: 30
          }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
            className: "title",
            children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {
              className: "symbol",
              children: symbol
            }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
              className: "fullname",
              children: fullName
            })]
          })]
        }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
          className: "amount",
          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(typography/* default.Text */.Z.Text, {
            className: "symbol",
            children: ["$", userOraclePriceLabel]
          })
        })]
      });
    }
  }, {
    title: /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {
      children: ["24H Fee", /*#__PURE__*/(0,jsx_runtime.jsx)("br", {}), formatMessage({
        id: 'lp_apr'
      }), ": ", formatMessage({
        id: 'fees'
      }), " | ", formatMessage({
        id: 'lend'
      })]
    }),
    dataIndex: 'fee',
    key: 'fee',
    align: 'right',
    render: function render(_, record) {
      var fees = record.fees,
          swapFee = record.swapFee;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
        className: "colFee",
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "title",
          children: ["$", (0,utils/* formatNumberToKMBT */.BF)(Number(swapFee), 4)]
        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "subtitle",
          children: [fees, "% | --%"]
        })]
      });
    }
  }, {
    title: formatMessage({
      id: 'pool_size'
    }),
    dataIndex: 'size',
    key: 'poolInfo',
    align: 'right',
    render: function render(_, record) {
      var poolOsd = record.poolOsd,
          poolReserve = record.poolReserve,
          poolSize = record.poolSize,
          symbol = record.symbol,
          icon = record.icon,
          id = record.id;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
        className: "colSize",
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "title",
          children: ["$", (0,utils/* formatNumberToKMBT */.BF)(Number(poolSize), 2)]
        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "desc",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(TokenIcon/* default */.Z, {
            src: icon,
            tokenId: id,
            size: 14
          }), " ", /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {
            className: "space",
            children: [(0,utils/* formatNumberToKMBT */.BF)(Number(poolReserve), 2), "  "]
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(TokenIcon/* default */.Z, {
            src: osd/* default */.Z,
            tokenId: id,
            size: 14
          }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {
            className: "space2",
            children: (0,utils/* formatNumberToKMBT */.BF)(Number(poolOsd), 2)
          })]
        })]
      });
    }
  }, {
    title: /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {
      children: [formatMessage({
        id: 'borrowed'
      }), /*#__PURE__*/(0,jsx_runtime.jsx)("br", {}), formatMessage({
        id: 'borrow'
      }), " ", formatMessage({
        id: 'apr'
      })]
    }),
    dataIndex: 'borrowed',
    key: 'borrowed',
    align: 'right',
    width: 125,
    render: function render(text, record) {
      var poolDebt = record.poolDebt,
          apr = record.apr;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
        className: "colBorrow",
        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {
          className: "title",
          children: (0,utils/* formatNumberToKMBT */.BF)(Number(poolDebt), 2)
        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "desc",
          children: [apr, "%"]
        })]
      });
    }
  }, {
    title: formatMessage({
      id: 'spot_vol'
    }),
    dataIndex: 'spot',
    key: 'spot',
    align: 'right',
    render: function render(text, record) {
      var symbol = record.symbol,
          poolRevenue = record.poolRevenue,
          poolOsdRevenue = record.poolOsdRevenue;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
        className: "colBorrow",
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "title",
          children: [poolRevenue, " ", symbol]
        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "desc",
          children: ["$", (0,utils/* formatNumberToKMBT */.BF)(Number(poolOsdRevenue), 2)]
        })]
      });
    }
  }, {
    title: formatMessage({
      id: 'borrow'
    }),
    dataIndex: 'borrow',
    key: 'borrow',
    align: 'center',
    render: function render(text, record) {
      return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
        className: "action",
        children: [parseFloat(record.userUpdatedAt) > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {
          onClick: function onClick(e) {
            e.stopPropagation();
            handleBorrow(record);
          },
          type: "link",
          style: {
            color: '#03CDC1',
            fontWeight: 500
          },
          children: " Borrow"
        }), (parseFloat(record.userDebt) > 0 || parseFloat(record.userTotalCol) > 0) && /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {
          onClick: function onClick(e) {
            e.stopPropagation();
            handleRepay(record);
          },
          type: "link",
          style: {
            color: '#03CDC1',
            fontWeight: 500
          },
          children: " Repay "
        })]
      });
    }
  }, {
    title: /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {
      children: [formatMessage({
        id: 'liquidity'
      }), /*#__PURE__*/(0,jsx_runtime.jsx)("br", {}), formatMessage({
        id: 'your_lp_share'
      })]
    }),
    dataIndex: 'tokenId',
    key: 'liquidity',
    align: 'center',
    width: 125,
    render: function render(text, record) {
      var userLpBalance = record.userLpBalance,
          userLpRate = record.userLpRate;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "action",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.Z, {
            title: "Deposit",
            color: '#03CDC1',
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(icons_PlusCircleOutlined, {
              style: {
                color: '#03CDC1',
                fontSize: 18
              },
              onClick: function onClick(e) {
                e.stopPropagation();
                handleAddLiq(record);
              }
            })
          }), parseFloat(userLpBalance) > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.Z, {
            title: "Remove",
            color: '#03CDC1',
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(icons_MinusCircleOutlined, {
              style: {
                color: '#03CDC1',
                fontSize: 18,
                marginLeft: 56
              },
              onClick: function onClick(e) {
                e.stopPropagation();
                handleRemoveLiq(record);
              }
            })
          })]
        }), parseFloat(userLpBalance) > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "lpRate",
          style: {
            fontSize: 13
          },
          children: [userLpRate, "%"]
        })]
      });
    }
  }];
  var columnsMin = [{
    title: 'Pools',
    dataIndex: 'pools_price',
    key: 'pools_price',
    align: 'center',
    className: 'colHeader',
    render: function render(text, record) {
      var icon = record.icon,
          symbol = record.symbol,
          fullName = record.fullName,
          userOraclePriceLabel = record.userOraclePriceLabel,
          id = record.id;
      return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
        className: "colToken",
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "info",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(TokenIcon/* default */.Z, {
            src: icon,
            tokenId: id,
            size: 30
          }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
            className: "title",
            children: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
              className: "symbol",
              children: symbol
            })
          })]
        })
      });
    }
  }, {
    title: formatMessage({
      id: 'apr'
    }) + '/' + formatMessage({
      id: 'tvl'
    }),
    dataIndex: 'poolSize',
    key: 'fee',
    align: 'right',
    render: function render(text, record) {
      var fees = record.fees,
          swapFee = record.swapFee;
      return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
        className: "colFee",
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
          className: "title",
          children: ["$", (0,utils/* formatNumberToKMBT */.BF)(Number(text), 2)]
        })
      });
    }
  }, {
    title: "".concat(formatMessage({
      id: 'price'
    }), "/").concat(formatMessage({
      id: 'day_diff'
    })),
    dataIndex: 'userOraclePriceLabel',
    key: 'poolInfo',
    align: 'right',
    render: function render(text, record) {
      return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
        className: "colSize",
        children: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
          className: "amount",
          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(typography/* default.Text */.Z.Text, {
            className: "symbol",
            children: ["$", text]
          })
        })
      });
    }
  }];
  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    className: "poolsPage animation-slide-bottom",
    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(row/* default */.Z, {
      className: "statistisWrap",
      gutter: [15, 15],
      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "TVL"
          }),
          value: statisticData === null || statisticData === void 0 ? void 0 : statisticData.tvl,
          prefix: "$",
          loading: !statisticData
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "Total Borrowed"
          }),
          value: statisticData === null || statisticData === void 0 ? void 0 : statisticData.totalBorrowed,
          prefix: "$",
          loading: !statisticData
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "Total Fees"
          }),
          value: Fees,
          prefix: "$",
          loading: !Fees
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "Open Interest"
          }),
          value: openInterest,
          prefix: "$",
          loading: !openInterest
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "POL"
          }),
          value: '--'
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "Unique Addr."
          }),
          value: '--'
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "24H Vol(Spot)"
          }),
          value: statisticData === null || statisticData === void 0 ? void 0 : statisticData.totalOsdRevenue,
          prefix: "$",
          loading: !statisticData
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "AVAIL Liquidity"
          }),
          value: statisticData === null || statisticData === void 0 ? void 0 : statisticData.AvailLiquidity,
          prefix: "$",
          loading: !statisticData
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "24H Fees"
          }),
          value: Fee24H,
          prefix: "$",
          loading: !Fees
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "24H Vol(Perps)"
          }),
          value: Volume24H,
          prefix: "$",
          loading: !Fees
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "OSD supply"
          }),
          value: (0,utils/* formatNumberToKMBT */.BF)((osdData === null || osdData === void 0 ? void 0 : osdData.totalSupply) || 0, 2),
          prefix: "",
          loading: !osdData
        })
      })), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, statisticLayout), {}, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(statistic/* default */.Z, {
          title: /*#__PURE__*/(0,jsx_runtime.jsx)(typography/* default.Text */.Z.Text, {
            children: "Total Vol."
          }),
          value: '--',
          prefix: ""
        })
      }))]
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(row/* default */.Z, {
      className: "search_wrap",
      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, {
        className: "search",
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(input/* default */.Z, {
          placeholder: formatMessage({
            id: 'search_tips'
          }),
          onChange: function onChange(e) {
            return setSerachWord(e.target.value);
          },
          className: "search_input",
          allowClear: true,
          prefix: /*#__PURE__*/(0,jsx_runtime.jsx)(SearchOutlined/* default */.Z, {})
        })
      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(col/* default */.Z, {
        className: "search_btns",
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(es_button/* default */.Z, {
          className: "btn",
          onClick: function onClick() {
            return setShowNewPool(true);
          },
          type: "primary",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {
            className: "icon",
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(icons_PlusCircleOutlined, {})
          }), formatMessage({
            id: 'new_pool'
          })]
        }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {
          className: "btn",
          type: "primary",
          style: {
            fontSize: 14,
            fontWeight: '400'
          },
          onClick: function onClick() {
            return poolTokenExtList.length > 0 && handleAddLiq(poolTokenExtList[0]);
          },
          children: formatMessage({
            id: 'deposit'
          })
        })]
      })]
    }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
      className: "tableWrap",
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(table/* default */.Z, {
        columns: screens.md ? columns : columnsMin,
        dataSource: list,
        className: "table",
        loading: loading,
        rowKey: "id",
        onRow: function onRow(record) {
          return {
            onClick: function onClick() {
              setCurrent(record);
              setShowDatail(true); // setCurrentToken(record)
              // setDetailVisible(true)
            } // 点击行

          };
        },
        onHeaderRow: function onHeaderRow(columns, index) {
          return {
            className: 'HeaderRow',
            style: {
              background: colorFill,
              color: colorTextSecondary
            }
          };
        } // loading={loading}
        // loading={{
        //   spinning:
        //     (poolTokenDatas && poolTokenDatas.length < 1 && tokenList.length > 0) || loadingData,
        //   indicator: <Loading3QuartersOutlined spin style={{ fontSize: 30 }} />,
        // }}

      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(NewPool/* default */.Z, {
      show: showNewPool,
      details: current,
      onCancel: function onCancel() {
        return setShowNewPool(false);
      }
    }), borrowPopupProps && /*#__PURE__*/(0,jsx_runtime.jsx)(Borrow/* default */.Z, objectSpread2_default()({
      show: showBorrowAction,
      onClose: function onClose() {
        return setShowBorrowAction(false);
      }
    }, borrowPopupProps)), liqPopupProps && /*#__PURE__*/(0,jsx_runtime.jsx)(EditLiq/* default */.Z, objectSpread2_default()(objectSpread2_default()({}, liqPopupProps), {}, {
      show: showEditLip,
      onClose: function onClose() {
        return setShowEditLip(false);
      }
    })), /*#__PURE__*/(0,jsx_runtime.jsx)(Details/* default */.Z, {
      show: showDetail,
      details: current,
      onCancel: function onCancel() {
        return setShowDatail(false);
      },
      handleAddLiq: handleAddLiq,
      handleBorrow: handleBorrow,
      handleRepay: handleRepay,
      handleRemoveLiq: handleRemoveLiq
    })]
  });
}

/***/ }),

/***/ 55054:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ es_statistic; }
});

// EXTERNAL MODULE: ./node_modules/classnames/index.js
var classnames = __webpack_require__(94184);
var classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/antd/es/config-provider/context.js
var context = __webpack_require__(53124);
// EXTERNAL MODULE: ./node_modules/antd/es/skeleton/index.js + 12 modules
var skeleton = __webpack_require__(21687);
;// CONCATENATED MODULE: ./node_modules/antd/es/statistic/Number.js

const StatisticNumber = props => {
  const {
    value,
    formatter,
    precision,
    decimalSeparator,
    groupSeparator = '',
    prefixCls
  } = props;
  let valueNode;
  if (typeof formatter === 'function') {
    // Customize formatter
    valueNode = formatter(value);
  } else {
    // Internal formatter
    const val = String(value);
    const cells = val.match(/^(-?)(\d*)(\.(\d+))?$/);
    // Process if illegal number
    if (!cells || val === '-') {
      valueNode = val;
    } else {
      const negative = cells[1];
      let int = cells[2] || '0';
      let decimal = cells[4] || '';
      int = int.replace(/\B(?=(\d{3})+(?!\d))/g, groupSeparator);
      if (typeof precision === 'number') {
        decimal = decimal.padEnd(precision, '0').slice(0, precision > 0 ? precision : 0);
      }
      if (decimal) {
        decimal = `${decimalSeparator}${decimal}`;
      }
      valueNode = [/*#__PURE__*/react.createElement("span", {
        key: "int",
        className: `${prefixCls}-content-value-int`
      }, negative, int), decimal && /*#__PURE__*/react.createElement("span", {
        key: "decimal",
        className: `${prefixCls}-content-value-decimal`
      }, decimal)];
    }
  }
  return /*#__PURE__*/react.createElement("span", {
    className: `${prefixCls}-content-value`
  }, valueNode);
};
/* harmony default export */ var statistic_Number = (StatisticNumber);
// EXTERNAL MODULE: ./node_modules/antd/es/theme/util/genComponentStyleHook.js
var genComponentStyleHook = __webpack_require__(67968);
// EXTERNAL MODULE: ./node_modules/antd/es/theme/util/statistic.js
var statistic = __webpack_require__(45503);
// EXTERNAL MODULE: ./node_modules/antd/es/style/index.js
var style = __webpack_require__(14747);
;// CONCATENATED MODULE: ./node_modules/antd/es/statistic/style/index.js


const genStatisticStyle = token => {
  const {
    componentCls,
    marginXXS,
    padding,
    colorTextDescription,
    statisticTitleFontSize,
    colorTextHeading,
    statisticContentFontSize,
    statisticFontFamily
  } = token;
  return {
    [`${componentCls}`]: Object.assign(Object.assign({}, (0,style/* resetComponent */.Wf)(token)), {
      [`${componentCls}-title`]: {
        marginBottom: marginXXS,
        color: colorTextDescription,
        fontSize: statisticTitleFontSize
      },
      [`${componentCls}-skeleton`]: {
        paddingTop: padding
      },
      [`${componentCls}-content`]: {
        color: colorTextHeading,
        fontSize: statisticContentFontSize,
        fontFamily: statisticFontFamily,
        [`${componentCls}-content-value`]: {
          display: 'inline-block',
          direction: 'ltr'
        },
        [`${componentCls}-content-prefix, ${componentCls}-content-suffix`]: {
          display: 'inline-block'
        },
        [`${componentCls}-content-prefix`]: {
          marginInlineEnd: marginXXS
        },
        [`${componentCls}-content-suffix`]: {
          marginInlineStart: marginXXS
        }
      }
    })
  };
};
// ============================== Export ==============================
/* harmony default export */ var statistic_style = ((0,genComponentStyleHook/* default */.Z)('Statistic', token => {
  const {
    fontSizeHeading3,
    fontSize,
    fontFamily
  } = token;
  const statisticToken = (0,statistic/* merge */.TS)(token, {
    statisticTitleFontSize: fontSize,
    statisticContentFontSize: fontSizeHeading3,
    statisticFontFamily: fontFamily
  });
  return [genStatisticStyle(statisticToken)];
}));
// EXTERNAL MODULE: ./node_modules/antd/es/_util/hooks/useForceUpdate.js
var useForceUpdate = __webpack_require__(57838);
// EXTERNAL MODULE: ./node_modules/antd/es/_util/reactNode.js
var reactNode = __webpack_require__(96159);
;// CONCATENATED MODULE: ./node_modules/antd/es/statistic/utils.js
// Countdown
const timeUnits = [['Y', 1000 * 60 * 60 * 24 * 365], ['M', 1000 * 60 * 60 * 24 * 30], ['D', 1000 * 60 * 60 * 24], ['H', 1000 * 60 * 60], ['m', 1000 * 60], ['s', 1000], ['S', 1] // million seconds
];

function formatTimeStr(duration, format) {
  let leftDuration = duration;
  const escapeRegex = /\[[^\]]*]/g;
  const keepList = (format.match(escapeRegex) || []).map(str => str.slice(1, -1));
  const templateText = format.replace(escapeRegex, '[]');
  const replacedText = timeUnits.reduce((current, _ref) => {
    let [name, unit] = _ref;
    if (current.includes(name)) {
      const value = Math.floor(leftDuration / unit);
      leftDuration -= value * unit;
      return current.replace(new RegExp(`${name}+`, 'g'), match => {
        const len = match.length;
        return value.toString().padStart(len, '0');
      });
    }
    return current;
  }, templateText);
  let index = 0;
  return replacedText.replace(escapeRegex, () => {
    const match = keepList[index];
    index += 1;
    return match;
  });
}
function formatCountdown(value, config) {
  const {
    format = ''
  } = config;
  const target = new Date(value).getTime();
  const current = Date.now();
  const diff = Math.max(target - current, 0);
  return formatTimeStr(diff, format);
}
;// CONCATENATED MODULE: ./node_modules/antd/es/statistic/Countdown.js





const REFRESH_INTERVAL = 1000 / 30;
function getTime(value) {
  return new Date(value).getTime();
}
const Countdown = props => {
  const {
    value,
    format = 'HH:mm:ss',
    onChange,
    onFinish
  } = props;
  const forceUpdate = (0,useForceUpdate/* default */.Z)();
  const countdown = react.useRef(null);
  const stopTimer = () => {
    onFinish === null || onFinish === void 0 ? void 0 : onFinish();
    if (countdown.current) {
      clearInterval(countdown.current);
      countdown.current = null;
    }
  };
  const syncTimer = () => {
    const timestamp = getTime(value);
    if (timestamp >= Date.now()) {
      countdown.current = setInterval(() => {
        forceUpdate();
        onChange === null || onChange === void 0 ? void 0 : onChange(timestamp - Date.now());
        if (timestamp < Date.now()) {
          stopTimer();
        }
      }, REFRESH_INTERVAL);
    }
  };
  react.useEffect(() => {
    syncTimer();
    return () => {
      if (countdown.current) {
        clearInterval(countdown.current);
        countdown.current = null;
      }
    };
  }, [value]);
  const formatter = (formatValue, config) => formatCountdown(formatValue, Object.assign(Object.assign({}, config), {
    format
  }));
  const valueRender = node => (0,reactNode/* cloneElement */.Tm)(node, {
    title: undefined
  });
  return /*#__PURE__*/react.createElement(statistic_Statistic, Object.assign({}, props, {
    valueRender: valueRender,
    formatter: formatter
  }));
};
/* harmony default export */ var statistic_Countdown = (/*#__PURE__*/react.memo(Countdown));
;// CONCATENATED MODULE: ./node_modules/antd/es/statistic/Statistic.js







const Statistic = props => {
  const {
    prefixCls: customizePrefixCls,
    className,
    style,
    valueStyle,
    value = 0,
    title,
    valueRender,
    prefix,
    suffix,
    loading = false,
    onMouseEnter,
    onMouseLeave,
    decimalSeparator = '.',
    groupSeparator = ','
  } = props;
  const {
    getPrefixCls,
    direction
  } = react.useContext(context/* ConfigContext */.E_);
  const prefixCls = getPrefixCls('statistic', customizePrefixCls);
  const [wrapSSR, hashId] = statistic_style(prefixCls);
  const valueNode = /*#__PURE__*/react.createElement(statistic_Number, Object.assign({
    decimalSeparator: decimalSeparator,
    groupSeparator: groupSeparator,
    prefixCls: prefixCls
  }, props, {
    value: value
  }));
  const cls = classnames_default()(prefixCls, {
    [`${prefixCls}-rtl`]: direction === 'rtl'
  }, className, hashId);
  return wrapSSR( /*#__PURE__*/react.createElement("div", {
    className: cls,
    style: style,
    onMouseEnter: onMouseEnter,
    onMouseLeave: onMouseLeave
  }, title && /*#__PURE__*/react.createElement("div", {
    className: `${prefixCls}-title`
  }, title), /*#__PURE__*/react.createElement(skeleton/* default */.Z, {
    paragraph: false,
    loading: loading,
    className: `${prefixCls}-skeleton`
  }, /*#__PURE__*/react.createElement("div", {
    style: valueStyle,
    className: `${prefixCls}-content`
  }, prefix && /*#__PURE__*/react.createElement("span", {
    className: `${prefixCls}-content-prefix`
  }, prefix), valueRender ? valueRender(valueNode) : valueNode, suffix && /*#__PURE__*/react.createElement("span", {
    className: `${prefixCls}-content-suffix`
  }, suffix)))));
};
Statistic.Countdown = statistic_Countdown;
/* harmony default export */ var statistic_Statistic = (Statistic);
;// CONCATENATED MODULE: ./node_modules/antd/es/statistic/index.js

/* harmony default export */ var es_statistic = (statistic_Statistic);

/***/ })

}]);