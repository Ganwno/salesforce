"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7477],{95710:function(Re,Z,a){a.r(Z),a.d(Z,{default:function(){return I}});var k=a(5574),h=a.n(k),m=a(67294),f=a(63913),G=a(30275),y=a(42429),K=a(47166),U=a(83614),L=a(58330),T=a(95638),D=a(90723),$=a(86321),V=a(68795),w=a(70794),x=a(66419),B=a(41687),ne=a(62548),X=a(87896),t=a(69718),i=a(80331),p=a(12168),g=a(84775),e=a(85893),P=f.ZP.useBreakpoint;function I(){var N=P(),O=G.Z.useToken(),S=O.token,j=S.colorPrimary,le=S.colorBgMask,R=S.colorFill,ie=S.colorBgContainer,J=S.colorText,z=S.colorTextSecondary,H=S.borderRadius,Q=(0,B.useIntl)(),v=Q.formatMessage,Y=(0,m.useState)(""),oe=h()(Y,2),F=oe[0],ze=oe[1],re=(0,B.useModel)("chain"),C=re.poolTokenExtList,de=re.initLoading,He=(0,m.useState)([]),ce=h()(He,2),q=ce[0],Ze=ce[1],Te=(0,m.useState)(null),ue=h()(Te,2),me=ue[0],De=ue[1],Fe=(0,m.useState)(!1),ge=h()(Fe,2),Ae=ge[0],he=ge[1],Ee=(0,m.useState)(!1),ve=h()(Ee,2),Me=ve[0],We=ve[1],ke=(0,m.useState)(!1),fe=h()(ke,2),Ge=fe[0],_=fe[1],Ke=(0,m.useState)(),xe=h()(Ke,2),pe=xe[0],be=xe[1],Ue=(0,m.useState)(),Se=h()(Ue,2),ee=Se[0],je=Se[1],Ve=(0,m.useState)(!1),ye=h()(Ve,2),Xe=ye[0],te=ye[1],Je=(0,m.useState)("borrow"),Ne=h()(Je,2),Qe=Ne[0],Ce=Ne[1],Ye=(0,m.useState)(),we=h()(Ye,2),qe=we[0],Pe=we[1],se=(0,m.useMemo)(function(){return C.length===0||de},[C,de]);(0,m.useEffect)(function(){var n=C;F&&(n=n.filter(function(l){return l.fullName.toLowerCase().indexOf(F.toLowerCase())>-1||l.id.toLowerCase().indexOf(F.toLowerCase())>-1})),Ze(n)},[C,F]);var rt=function(l){De(l),he(!0)},Le=function(l){Ce("borrow"),Pe(l.id),te(!0)},$e=function(l){Ce("repay"),Pe(l.id),te(!0)},Be=function(l){be("add"),je(l),_(!0)},Ie=function(l){be("remove"),je(l),_(!0)},A=[{title:"Collateral/Value",dataIndex:"size",key:"poolInfo",align:"left",render:function(l,s){var d=s.positions.collaterals,o=d.reduce(function(u,r){var c=C.find(function(ae){return ae.id.toLowerCase()===r.token.toLowerCase()});if(c){var b=Number((0,x.gB)(r.amount,c.tokenDecimal))*Number(c.userOraclePrice);return u+b}return u+0},0);return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"title",children:d.map(function(u){var r=C.find(function(c){return c.id.toLowerCase()===u.token.toLowerCase()});return(0,e.jsx)(i.Z,{src:r?.icon||"",tokenId:r?.id,size:24})})}),(0,e.jsxs)("div",{className:"desc",children:["$",o.toFixed(2)]})]})}},{title:"Borrowed",dataIndex:"size",key:"poolInfo",align:"right",render:function(l,s){var d=s.poolOsd,o=s.userDebt,u=s.userBorrowPrice,r=s.symbol,c=s.icon,b=s.id;return(0,e.jsxs)("div",{className:"colSize",children:[(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)(i.Z,{src:c,tokenId:b,size:16})," ",(0,e.jsxs)("span",{className:"space",children:[(0,x.BF)(Number(o),2)," ",r,"  "]})]}),(0,e.jsxs)("div",{className:"desc",children:["$",(0,x.BF)(Number(o)*Number(u),2)]})]})}},{title:(0,e.jsx)(e.Fragment,{children:v({id:"apr"})}),dataIndex:"apr",key:"apr",align:"right",width:125,render:function(l){return(0,e.jsx)("div",{className:"colBorrow",children:(0,e.jsxs)("div",{className:"title",children:[l,"%"]})})}},{title:(0,e.jsxs)(e.Fragment,{children:["Risk Factor",(0,e.jsx)("br",{}),"Liq. RF "]}),dataIndex:"size",key:"poolInfo",align:"right",render:function(l,s){var d=s.poolDebt,o=s.userDebt,u=s.positions.collaterals,r=new w.Z(0);u.forEach(function(b){var ae=b.token,st=b.amount,W=C.find(function(ot){return ot.id.toLowerCase()===ae.toLowerCase()});if(W){var at=W.userBorrowPrice,nt=W.assets,lt=W.tokenDecimal,it=(0,x.gB)(st.toString(),lt);r=r.plus(new w.Z(it).multipliedBy(at).multipliedBy(nt.collateralCredit))}}),parseFloat(o)<=0?r=r.gt(0)?new w.Z(1/0):new w.Z(0):r=r.div(o).div(s.userBorrowPrice).div(s.assets.borrowCredit);var c="#00A980";return r.lte(1.05)?c="#EB5757":r.lte(1.1)&&(c=" #F2994A"),(0,e.jsxs)("div",{className:"colSize",children:[(0,e.jsx)("div",{className:"title",children:(0,e.jsx)("div",{style:{color:c},children:r.toString()==="Infinity"?"--":r.toFixed(2)})}),(0,e.jsx)("div",{className:"title",children:"1.00"})]})}},{title:v({id:"borrow"}),dataIndex:"borrow",key:"borrow",align:"center",render:function(l,s){return(0,e.jsxs)("div",{className:"action",children:[parseFloat(s.userUpdatedAt)>0&&(0,e.jsx)(y.Z,{onClick:function(o){o.stopPropagation(),Le(s)},type:"link",style:{fontWeight:500},children:" Edit"}),(parseFloat(s.userDebt)>0||parseFloat(s.userTotalCol)>0)&&(0,e.jsx)(y.Z,{onClick:function(o){o.stopPropagation(),$e(s)},type:"link",style:{fontWeight:500},children:" Repay"})]})}}],dt=[{title:"Pools",dataIndex:"pools_price",key:"pools_price",align:"center",className:"colHeader",ellipsis:!0,render:function(l,s){var d=s.icon,o=s.symbol,u=s.fullName,r=s.userOraclePriceLabel,c=s.id;return(0,e.jsx)("div",{className:"colToken",children:(0,e.jsxs)("div",{className:"info",children:[(0,e.jsx)(i.Z,{src:d,tokenId:c,size:30}),(0,e.jsx)("div",{className:"title",children:(0,e.jsx)("div",{className:"symbol",children:o})})]})})}},{title:v({id:"apr"})+"/"+v({id:"tvl"}),dataIndex:"poolSize",key:"fee",align:"right",ellipsis:!0,render:function(l,s){var d=s.fees,o=s.swapFee;return(0,e.jsx)("div",{className:"colFee",children:(0,e.jsxs)("div",{className:"title",children:["$",(0,x.BF)(Number(l),2)]})})}},{title:"".concat(v({id:"price"}),"/").concat(v({id:"day_diff"})),dataIndex:"userOraclePriceLabel",key:"poolInfo",align:"right",ellipsis:!0,render:function(l,s){return(0,e.jsx)("div",{className:"colSize",children:(0,e.jsx)("div",{className:"amount",children:(0,e.jsxs)(K.Z.Text,{className:"symbol",children:["$",l]})})})}}],_e=[{title:"Asset",dataIndex:"pools_price",key:"pools_price",align:"left",className:"colHeader",ellipsis:!0,render:function(l,s){var d=s.icon,o=s.symbol,u=s.fullName,r=s.userOraclePriceLabel,c=s.id;return(0,e.jsx)("div",{className:"colToken",children:(0,e.jsxs)("div",{className:"info",children:[(0,e.jsx)(i.Z,{src:d,tokenId:c,size:30}),(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{className:"symbol",children:o}),(0,e.jsx)("div",{className:"fullname",children:u})]})]})})}},{title:"Balance",dataIndex:"fee",key:"fee",align:"right",render:function(l,s){var d=s.symbol,o=s.userTokenBalanceLabel,u=s.userTokenBalanceUSDLabel;return(0,e.jsxs)("div",{className:"colFee",children:[(0,e.jsxs)("div",{className:"title",children:[o,d]}),(0,e.jsxs)("div",{className:"subtitle",children:["$",u]})]})}},{title:"Action",dataIndex:"id",key:"id",align:"right",render:function(l){return(0,e.jsx)("div",{className:"colFee",children:(0,e.jsx)(y.Z,{onClick:function(d){B.history.push("/trade?swapOut="+l)},type:"link",style:{fontWeight:500,textAlign:"right"},children:" Swap"})})}}],E=[{title:(0,e.jsx)("div",{className:"poolTableHeader",children:"Pools/Price(24H)"}),dataIndex:"pools_price",key:"pools_price",align:"center",ellipsis:!0,className:"colHeader",render:function(l,s){var d=s.icon,o=s.symbol,u=s.fullName,r=s.userOraclePriceLabel,c=s.id;return(0,e.jsx)("div",{className:"colToken",children:(0,e.jsxs)("div",{className:"info",children:[(0,e.jsx)(i.Z,{src:d,tokenId:c,size:30}),(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{className:"symbol",children:o}),(0,e.jsx)("div",{className:"fullname",children:u})]})]})})}},{title:v({id:"pool_size"}),dataIndex:"size",key:"poolInfo",align:"right",ellipsis:!0,render:function(l,s){var d=s.poolOsd,o=s.poolReserve,u=s.poolSize,r=s.symbol,c=s.icon,b=s.id;return(0,e.jsxs)("div",{className:"colSize",children:[(0,e.jsxs)("div",{className:"title",children:["$",(0,x.BF)(Number(u),2)]}),(0,e.jsxs)("div",{className:"desc",children:[(0,e.jsx)(i.Z,{src:c,tokenId:b,size:14})," ",(0,e.jsxs)("span",{className:"space",children:[(0,x.BF)(Number(o),2),"  "]}),(0,e.jsx)(i.Z,{src:p.Z,tokenId:b,size:14}),(0,e.jsx)("span",{className:"space2",children:(0,x.BF)(Number(d),2)})]})]})}},{title:(0,e.jsxs)(e.Fragment,{children:["LP | Pool share",(0,e.jsx)("br",{}),"Value"]}),dataIndex:"share",key:"share",align:"right",ellipsis:!0,render:function(l,s){var d=s.poolDebt,o=s.userLpBalance,u=s.poolSize,r=s.lpSymbol,c=s.userLpRate,b=s.id;return(0,e.jsx)("div",{className:"colSize",children:(0,e.jsxs)("div",{className:"title",children:[(0,e.jsxs)("div",{className:"symbol",children:[" ",o," ",r," | ",c,"%"]}),(0,e.jsxs)("div",{className:"fullname",children:["$",((Number(u)+Number(d))*Number(c)/100).toFixed(2)]})]})})}},{title:v({id:"borrow"}),dataIndex:"borrow",key:"borrow",ellipsis:!0,align:"center",render:function(l,s){return(0,e.jsxs)("div",{className:"action",children:[(0,e.jsx)(y.Z,{size:"small",onClick:function(o){o.stopPropagation(),Be(s)},type:"link",style:{fontWeight:500},children:" Add"}),(0,e.jsx)(y.Z,{size:"small",onClick:function(o){o.stopPropagation(),Ie(s)},type:"link",style:{fontWeight:500},children:" Withdraw"})]})}}],et=(0,m.useState)("Wallet balance"),Oe=h()(et,2),M=Oe[0],tt=Oe[1];return(0,e.jsxs)("div",{className:"porfilePage",children:[(0,e.jsxs)(U.Z,{className:"search_wrap",gutter:[12,12],children:[(0,e.jsx)(L.Z,{md:16,sm:24,xs:24,children:(0,e.jsx)(T.Z,{size:N.md?"large":"small",value:M,onChange:tt,style:{background:"transparent"},options:[{label:(0,e.jsx)("div",{style:{padding:4},className:"SegmentedWrap",children:(0,e.jsx)("div",{children:"Wallet balance"})}),value:"Wallet balance"},{label:(0,e.jsx)("div",{style:{padding:4},className:"SegmentedWrap",children:(0,e.jsx)("div",{children:"Pool Deposits"})}),value:"Pool Deposits"},{label:(0,e.jsx)("div",{style:{padding:4},className:"SegmentedWrap",children:(0,e.jsx)("div",{children:"Borrow Positions"})}),value:"Borrow Positions"}]})}),(0,e.jsx)(L.Z,{className:"search",md:8,sm:24,xs:24,children:(0,e.jsx)(D.Z,{placeholder:v({id:"search_tips"}),onChange:function(l){return ze(l.target.value)},className:"search_input",allowClear:!0,prefix:(0,e.jsx)(V.Z,{})})})]}),(0,e.jsxs)("div",{className:"tableWrap",children:[(0,e.jsx)($.Z,{columns:_e,dataSource:q,className:"table",loading:se,rowKey:"id",style:{display:M==="Wallet balance"?"block":"none"},onHeaderRow:function(l,s){return{className:"HeaderRow",style:{background:R,color:z}}}}),(0,e.jsx)($.Z,{columns:N.md?E:[E[0],E[1],E[3]],dataSource:q.filter(function(n){return Number(n.userLpBalance)>0}),className:"table",loading:se,rowKey:"id",style:{display:M==="Pool Deposits"?"block":"none"},onHeaderRow:function(l,s){return{className:"HeaderRow",style:{background:R,color:z}}}}),(0,e.jsx)($.Z,{columns:N.md?A:[A[0],A[3],A[4]],dataSource:q.filter(function(n){return parseFloat(n.poolDebt)>0||Number(n.userTotalCol)>0}),className:"table",loading:se,rowKey:"id",style:{display:M==="Borrow Positions"?"block":"none"},onHeaderRow:function(l,s){return{className:"HeaderRow",style:{background:R,color:z}}}})]}),(0,e.jsx)(X.default,{show:Me,details:me,onCancel:function(){return We(!1)}}),(0,e.jsx)(t.default,{show:Xe,onClose:function(){return te(!1)},defaultAction:Qe,defaultTarget:qe}),ee&&pe&&(0,e.jsx)(g.default,{currentPool:ee,show:Ge,onClose:function(){return _(!1)},defaultAction:pe},ee.id),(0,e.jsx)(ne.default,{show:Ae,details:me,onCancel:function(){return he(!1)},handleAddLiq:Be,handleBorrow:Le,handleRepay:$e,handleRemoveLiq:Ie})]})}},95638:function(Re,Z,a){a.d(Z,{Z:function(){return X}});var k=a(94184),h=a.n(k),m=a(66940),f=a(67294),G=a(78564),y=a(77594),K=a(42082),U=a(78488),L=a(23540);function T(t,i){return{[`${t}, ${t}:hover, ${t}:focus`]:{color:i.colorTextDisabled,cursor:"not-allowed"}}}function D(t){return{backgroundColor:t.bgColorSelected,boxShadow:t.boxShadow}}const $=Object.assign({overflow:"hidden"},L.vS),V=t=>{const{componentCls:i}=t;return{[i]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,L.Wf)(t)),{display:"inline-block",padding:t.segmentedContainerPadding,color:t.labelColor,backgroundColor:t.bgColor,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,[`${i}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},"&&-rtl":{direction:"rtl"},"&&-block":{display:"flex"},[`&&-block ${i}-item`]:{flex:1,minWidth:0},[`${i}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${t.motionDurationMid} ${t.motionEaseInOut}`,borderRadius:t.borderRadiusSM,"&-selected":Object.assign(Object.assign({},D(t)),{color:t.labelColorHover}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}`},[`&:hover:not(${i}-item-selected):not(${i}-item-disabled)`]:{color:t.labelColorHover,"&::after":{backgroundColor:t.bgColorHover}},"&-label":Object.assign({minHeight:t.controlHeight-t.segmentedContainerPadding*2,lineHeight:`${t.controlHeight-t.segmentedContainerPadding*2}px`,padding:`0 ${t.segmentedPaddingHorizontal}px`},$),"&-icon + *":{marginInlineStart:t.marginSM/2},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},"&&-lg":{borderRadius:t.borderRadiusLG,[`${i}-item-label`]:{minHeight:t.controlHeightLG-t.segmentedContainerPadding*2,lineHeight:`${t.controlHeightLG-t.segmentedContainerPadding*2}px`,padding:`0 ${t.segmentedPaddingHorizontal}px`,fontSize:t.fontSizeLG},[`${i}-item-selected`]:{borderRadius:t.borderRadius}},"&&-sm":{borderRadius:t.borderRadiusSM,[`${i}-item-label`]:{minHeight:t.controlHeightSM-t.segmentedContainerPadding*2,lineHeight:`${t.controlHeightSM-t.segmentedContainerPadding*2}px`,padding:`0 ${t.segmentedPaddingHorizontalSM}px`},[`${i}-item-selected`]:{borderRadius:t.borderRadiusXS}}}),T(`&-disabled ${i}-item`,t)),T(`${i}-item-disabled`,t)),{[`${i}-thumb`]:Object.assign(Object.assign({},D(t)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${t.paddingXXS}px 0`,borderRadius:t.borderRadiusSM,[`& ~ ${i}-item:not(${i}-item-selected):not(${i}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`${i}-thumb-motion-appear-active`]:{transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOut}, width ${t.motionDurationSlow} ${t.motionEaseInOut}`,willChange:"transform, width"}})}};var w=(0,K.Z)("Segmented",t=>{const{lineWidthBold:i,lineWidth:p,colorTextLabel:g,colorText:e,colorFillSecondary:P,colorBgLayout:I,colorBgElevated:N}=t,O=(0,U.TS)(t,{segmentedPaddingHorizontal:t.controlPaddingHorizontal-p,segmentedPaddingHorizontalSM:t.controlPaddingHorizontalSM-p,segmentedContainerPadding:i,labelColor:g,labelColorHover:e,bgColor:I,bgColorHover:P,bgColorSelected:N});return[V(O)]}),x=function(t,i){var p={};for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&i.indexOf(g)<0&&(p[g]=t[g]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,g=Object.getOwnPropertySymbols(t);e<g.length;e++)i.indexOf(g[e])<0&&Object.prototype.propertyIsEnumerable.call(t,g[e])&&(p[g[e]]=t[g[e]]);return p};function B(t){return typeof t=="object"&&!!t?.icon}var X=f.forwardRef((t,i)=>{const{prefixCls:p,className:g,block:e,options:P=[],size:I="middle"}=t,N=x(t,["prefixCls","className","block","options","size"]),{getPrefixCls:O,direction:S}=f.useContext(G.E_),j=O("segmented",p),[le,R]=w(j),ie=f.useContext(y.Z),J=I||ie,z=f.useMemo(()=>P.map(H=>{if(B(H)){const{icon:Q,label:v}=H,Y=x(H,["icon","label"]);return Object.assign(Object.assign({},Y),{label:f.createElement(f.Fragment,null,f.createElement("span",{className:`${j}-item-icon`},Q),v&&f.createElement("span",null,v))})}return H}),[P,j]);return le(f.createElement(m.Z,Object.assign({},N,{className:h()(g,{[`${j}-block`]:e,[`${j}-sm`]:J==="small",[`${j}-lg`]:J==="large"},R),options:z,ref:i,prefixCls:j,direction:S})))})}}]);
