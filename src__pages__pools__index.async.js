"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1087],{42754:function(et,L,a){a.r(L),a.d(L,{default:function(){return Be}});var re=a(97857),de=a.n(re),ce=a(5574),d=a.n(ce),o=a(67294),ue=a(63913),ve=a(30275),B=a(47166),j=a(42429),Z=a(59009),he=a(83614),O=a(58330),me=a(90723),fe=a(86321),g=a(1413),xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},pe=xe,R=a(84089),k=function(x,c){return o.createElement(R.Z,(0,g.Z)((0,g.Z)({},x),{},{ref:c,icon:pe}))};k.displayName="PlusCircleOutlined";var F=o.forwardRef(k),je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},ge=je,T=function(x,c){return o.createElement(R.Z,(0,g.Z)((0,g.Z)({},x),{},{ref:c,icon:ge}))};T.displayName="MinusCircleOutlined";var Ne=o.forwardRef(T),Ce=a(68795),v=a(66419),z=a(41687),Se=a(62548),ye=a(87896),we=a(69718),N=a(80331),be=a(12168),Pe=a(84775),e=a(85893),Le=ue.ZP.useBreakpoint;function Be(){var f=Le(),x=ve.Z.useToken(),c=x.token,tt=c.colorPrimary,st=c.colorBgMask,Ze=c.colorFill,at=c.colorBgContainer,nt=c.colorText,Oe=c.colorTextSecondary,lt=c.borderRadius,Re=(0,z.useIntl)(),l=Re.formatMessage,ke=(0,o.useState)(""),I=d()(ke,2),C=I[0],Fe=I[1],A=(0,z.useModel)("chain"),m=A.poolTokenExtList,M=A.initLoading,Te=(0,o.useState)([]),D=d()(Te,2),ze=D[0],Ie=D[1],Ae=(0,o.useState)(null),H=d()(Ae,2),E=H[0],$=H[1],Me=(0,o.useState)(!1),W=d()(Me,2),De=W[0],S=W[1],He=(0,o.useState)(!1),V=d()(He,2),Ee=V[0],K=V[1],$e=(0,o.useState)(!1),U=d()($e,2),We=U[0],y=U[1],Ve=(0,o.useState)(),G=d()(Ve,2),J=G[0],Q=G[1],Ke=(0,o.useState)(),X=d()(Ke,2),w=X[0],Y=X[1],Ue=(0,o.useState)(!1),q=d()(Ue,2),Ge=q[0],b=q[1],Je=(0,o.useState)("borrow"),_=d()(Je,2),ot=_[0],it=_[1],Qe=(0,o.useState)(),ee=d()(Qe,2),rt=ee[0],dt=ee[1],Xe=(0,o.useState)(),te=d()(Xe,2),se=te[0],ae=te[1],Ye=(0,o.useMemo)(function(){return m.length===0||M},[m,M]);(0,o.useEffect)(function(){var n=m;C&&(n=n.filter(function(s){return s.fullName.toLowerCase().indexOf(C.toLowerCase())>-1||s.id.toLowerCase().indexOf(C.toLowerCase())>-1})),Ie(n)},[m,C]);var ct=function(s){$(s),S(!0)},ne=function(s){b(!0),ae({defaultAction:"borrow",defaultTarget:s.id,key:new Date().getTime()})},le=function(s){b(!0),ae({defaultAction:"repay",defaultTarget:s.id,key:new Date().getTime()})},P=function(s){Q("add"),Y(s),y(!0)},oe=function(s){Q("remove"),Y(s),y(!0)},qe=[{title:(0,e.jsx)("div",{className:"poolTableHeader",children:"Pools/Price(24H)"}),dataIndex:"pools_price",key:"pools_price",align:"center",className:"colHeader",render:function(s,t){var r=t.icon,i=t.symbol,u=t.fullName,h=t.userOraclePriceLabel,p=t.id;return(0,e.jsxs)("div",{className:"colToken",children:[(0,e.jsxs)("div",{className:"info",children:[(0,e.jsx)(N.Z,{src:r,tokenId:p,size:30}),(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{className:"symbol",children:i}),(0,e.jsx)("div",{className:"fullname",children:u})]})]}),(0,e.jsx)("div",{className:"amount",children:(0,e.jsxs)(B.Z.Text,{className:"symbol",children:["$",h]})})]})}},{title:(0,e.jsxs)(e.Fragment,{children:["24H Fee",(0,e.jsx)("br",{}),l({id:"lp_apr"}),": ",l({id:"fees"})," | ",l({id:"lend"})]}),dataIndex:"fee",key:"fee",align:"right",render:function(s,t){var r=t.fees,i=t.swapFee;return(0,e.jsxs)("div",{className:"colFee",children:[(0,e.jsxs)("div",{className:"title",children:["$",(0,v.BF)(Number(i),4)]}),(0,e.jsxs)("div",{className:"subtitle",children:[r,"% | --%"]})]})}},{title:l({id:"pool_size"}),dataIndex:"size",key:"poolInfo",align:"right",render:function(s,t){var r=t.poolOsd,i=t.poolReserve,u=t.poolSize,h=t.symbol,p=t.icon,ie=t.id;return(0,e.jsxs)("div",{className:"colSize",children:[(0,e.jsxs)("div",{className:"title",children:["$",(0,v.BF)(Number(u),2)]}),(0,e.jsxs)("div",{className:"desc",children:[(0,e.jsx)(N.Z,{src:p,tokenId:ie,size:14})," ",(0,e.jsxs)("span",{className:"space",children:[(0,v.BF)(Number(i),2),"  "]}),(0,e.jsx)(N.Z,{src:be.Z,tokenId:ie,size:14}),(0,e.jsx)("span",{className:"space2",children:(0,v.BF)(Number(r),2)})]})]})}},{title:(0,e.jsxs)(e.Fragment,{children:[l({id:"borrowed"}),(0,e.jsx)("br",{}),l({id:"borrow"})," ",l({id:"apr"}),(0,e.jsx)("br",{}),l({id:"yield_apr"})]}),dataIndex:"borrowed",key:"borrowed",align:"right",width:125,render:function(s,t){var r=t.poolDebt,i=t.apr;return(0,e.jsxs)("div",{className:"colBorrow",children:[(0,e.jsx)("div",{className:"title",children:(0,v.BF)(Number(r),2)}),(0,e.jsxs)("div",{className:"desc",children:[i,"%"]})]})}},{title:l({id:"spot_vol"}),dataIndex:"spot",key:"spot",align:"right",render:function(s,t){var r=t.symbol,i=t.poolRevenue,u=t.poolOsdRevenue;return(0,e.jsxs)("div",{className:"colBorrow",children:[(0,e.jsxs)("div",{className:"title",children:[i," ",r]}),(0,e.jsxs)("div",{className:"desc",children:["$",(0,v.BF)(Number(u),2)]})]})}},{title:l({id:"borrow"}),dataIndex:"borrow",key:"borrow",align:"center",render:function(s,t){return(0,e.jsxs)("div",{className:"action",children:[parseFloat(t.userUpdatedAt)>0&&(0,e.jsx)(j.Z,{onClick:function(i){i.stopPropagation(),ne(t)},type:"link",style:{color:"#03CDC1",fontWeight:500},children:" Borrow"}),(parseFloat(t.userDebt)>0||parseFloat(t.userTotalCol)>0)&&(0,e.jsx)(j.Z,{onClick:function(i){i.stopPropagation(),le(t)},type:"link",style:{color:"#03CDC1",fontWeight:500},children:" Repay"})]})}},{title:(0,e.jsxs)(e.Fragment,{children:[l({id:"liquidity"}),(0,e.jsx)("br",{}),l({id:"your_lp_share"})]}),dataIndex:"tokenId",key:"liquidity",align:"center",width:125,render:function(s,t){var r=t.userLpBalance,i=t.userLpRate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"action",children:[(0,e.jsx)(Z.Z,{title:"Deposit",color:"#03CDC1",children:(0,e.jsx)(F,{style:{color:"#03CDC1",fontSize:18},onClick:function(h){h.stopPropagation(),P(t)}})}),parseFloat(r)>0&&(0,e.jsx)(Z.Z,{title:"Remove",color:"#03CDC1",children:(0,e.jsx)(Ne,{style:{color:"#03CDC1",fontSize:18,marginLeft:56},onClick:function(h){h.stopPropagation(),oe(t)}})})]}),parseFloat(r)>0&&(0,e.jsxs)("div",{className:"lpRate",style:{fontSize:13},children:[i,"%"]})]})}}],_e=[{title:"Pools",dataIndex:"pools_price",key:"pools_price",align:"center",className:"colHeader",render:function(s,t){var r=t.icon,i=t.symbol,u=t.fullName,h=t.userOraclePriceLabel,p=t.id;return(0,e.jsx)("div",{className:"colToken",children:(0,e.jsxs)("div",{className:"info",children:[(0,e.jsx)(N.Z,{src:r,tokenId:p,size:30}),(0,e.jsx)("div",{className:"title",children:(0,e.jsx)("div",{className:"symbol",children:i})})]})})}},{title:l({id:"apr"})+"/"+l({id:"tvl"}),dataIndex:"poolSize",key:"fee",align:"right",render:function(s,t){var r=t.fees,i=t.swapFee;return(0,e.jsx)("div",{className:"colFee",children:(0,e.jsxs)("div",{className:"title",children:["$",(0,v.BF)(Number(s),2)]})})}},{title:"".concat(l({id:"price"}),"/").concat(l({id:"day_diff"})),dataIndex:"userOraclePriceLabel",key:"poolInfo",align:"right",render:function(s,t){return(0,e.jsx)("div",{className:"colSize",children:(0,e.jsx)("div",{className:"amount",children:(0,e.jsxs)(B.Z.Text,{className:"symbol",children:["$",s]})})})}}];return(0,e.jsxs)("div",{className:"poolsPage",children:[(0,e.jsxs)(he.Z,{className:"search_wrap",style:{padding:(f.md,"0 15px")},children:[(0,e.jsx)(O.Z,{className:"search",children:(0,e.jsx)(me.Z,{placeholder:l({id:"search_tips"}),onChange:function(s){return Fe(s.target.value)},className:"search_input",allowClear:!0,prefix:(0,e.jsx)(Ce.Z,{})})}),(0,e.jsxs)(O.Z,{className:"search_btns",children:[(0,e.jsxs)(j.Z,{className:"btn",onClick:function(){return K(!0)},type:"primary",children:[(0,e.jsx)("span",{className:"icon",children:(0,e.jsx)(F,{})}),l({id:"new_pool"})]}),(0,e.jsx)(j.Z,{className:"btn",type:"primary",style:{fontSize:14,fontWeight:"400"},onClick:function(){return m.length>0&&P(m[0])},children:l({id:"deposit"})})]})]}),(0,e.jsx)("div",{className:"tableWrap",style:{padding:f.md?"0 15px":"0 "},children:(0,e.jsx)(fe.Z,{columns:f.md?qe:_e,dataSource:ze,className:"table",loading:Ye,rowKey:"id",onRow:function(s){return{onClick:function(){$(s),S(!0)}}},onHeaderRow:function(s,t){return{className:"HeaderRow",style:{background:Ze,color:Oe}}}})}),(0,e.jsx)(ye.default,{show:Ee,details:E,onCancel:function(){return K(!1)}}),se&&(0,e.jsx)(we.default,de()({show:Ge,onClose:function(){return b(!1)}},se)),w&&J&&(0,e.jsx)(Pe.default,{currentPool:w,show:We,onClose:function(){return y(!1)},defaultAction:J},w.id),(0,e.jsx)(Se.default,{show:De,details:E,onCancel:function(){return S(!1)},handleAddLiq:P,handleBorrow:ne,handleRepay:le,handleRemoveLiq:oe})]})}}}]);
