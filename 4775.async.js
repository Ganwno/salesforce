"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4775],{84775:function(Ve,ue,t){t.r(ue),t.d(ue,{default:function(){return Fe}});var Le=t(13769),ce=t.n(Le),Ie=t(97857),de=t.n(Ie),Ae=t(15009),C=t.n(Ae),Be=t(99289),R=t.n(Be),Ne=t(5574),r=t.n(Ne),n=t(67294),$e=t(75302),he=t(92195),I=t(27790),ve=t(57953),v=t(7075),w=t(48054),me=t(71577),fe=t(71230),E=t(15746),Me=t(31530),W=t(41687),xe=t(77171),ye=t(80331),ge=t(12699),ze=t(93417),je=t(90494),F=t(6377),Se=t(40238),e=t(85893),De=["defaultAction"],Oe=["show","onClose"],Ge=$e.ZP.useBreakpoint,He=function(i){var j=i.label,Z=i.children;return _jsxs(Row,{children:[_jsx(Col,{children:j}),_jsx(Col,{children:Z})]})},Re=function(i){var j=i.defalutPool,Z=i.actionType,d=(0,W.useModel)("chain"),y=d.chain,m=d.wallet,S=d.poolTokenExtList,V=d.updataTokens;if(!m||!y)return(0,e.jsx)(e.Fragment,{});var $=(0,W.useIntl)(),pe=$.formatMessage,Te=he.Z.useToken(),k=Te.token,b=k.colorPrimary,Ce=k.boxShadow,Ze=k.colorInfoBg,ke=k.colorBgContainer,Ue=k.colorText,re=k.colorTextSecondary,G=(0,n.useState)(!1),H=r()(G,2),J=H[0],K=H[1],Q=(0,n.useState)(0),X=r()(Q,2),g=X[0],p=X[1],oe=(0,n.useState)(""),Y=r()(oe,2),M=Y[0],se=Y[1],be=(0,n.useState)(j),q=r()(be,2),h=q[0],u=q[1],le=(0,n.useState)(!1),_=r()(le,2),z=_[0],D=_[1],ee=(0,n.useState)(),te=r()(ee,2),L=te[0],A=te[1],B=(0,n.useMemo)(function(){return{label:"Balance",value:h.userTokenBalance}},[h]),N=(0,n.useMemo)(function(){return h&&g?(Number(g)*Number(h.userOraclePrice)).toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","):""},[h,g]),Pe=(0,n.useCallback)(R()(C()().mark(function T(){var a,s,c,l;return C()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return D(!0),x.next=3,(0,F.UL)({chain:y,wallet:m,token:h,amount:g});case 3:if(a=x.sent,s=r()(a,2),c=s[0],l=s[1],D(!1),!l){x.next=11;break}return I.ZP.error(l.error),x.abrupt("return");case 11:c&&A({amountOut:c.amountOut||"",increasedPoolShare:c.increasedPoolShare||""});case 12:case"end":return x.stop()}},T)})),[y,m,h,g]),ie=(0,Se.Z)(Pe,{wait:500}),ne=ie.run,O=function(a){p(a),ne()},ae=function(){var T=R()(C()().mark(function a(){var s,c,l,f;return C()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return K(!0),o.next=3,(0,F.vL)({chain:y,wallet:m,token:h,amount:g});case 3:if(s=o.sent,c=r()(s,2),l=c[0],f=c[1],!l){o.next=12;break}if(!l.hash){o.next=12;break}return I.ZP.success("addLiq"+l.hash),o.next=12,V();case 12:f&&I.ZP.error(f.error),K(!1);case 14:case"end":return o.stop()}},a)}));return function(){return T.apply(this,arguments)}}();return(0,e.jsx)(ve.Z,{spinning:J,children:(0,e.jsxs)("div",{className:"hayMarginWrap",children:[(0,e.jsx)(je.Z,{amount:g,currentToken:h,tokenList:S,onAmountChange:O,onTokenChange:function(a){u(a),ne()},header:h&&(0,e.jsxs)("div",{className:"label",children:[(0,e.jsxs)(v.Z.Text,{style:{fontSize:12},children:["Pay: ",(0,e.jsxs)("span",{children:["$",N]})]}),(0,e.jsxs)(v.Z.Text,{style:{fontSize:12,color:re},onClick:function(){return O(Number(B.value))},children:[B.label,": ",(0,e.jsx)("span",{style:{color:b},children:B.value})]})]}),maxValue:Number(B.value)||0}),(0,e.jsx)("div",{className:"arrow",children:(0,e.jsx)(xe.Z,{style:{color:re}})}),(0,e.jsxs)("div",{className:"card",style:{background:Ze,marginLeft:0},children:[(0,e.jsxs)("div",{className:"label",children:[(0,e.jsxs)(v.Z.Text,{style:{fontSize:12},children:[h.lpSymbol," token to receive"]}),(0,e.jsx)(v.Z.Text,{style:{fontSize:12},children:"Pool share"})]}),(0,e.jsxs)("div",{className:"value",children:[z?(0,e.jsx)(w.Z.Button,{active:!0}):(0,e.jsx)(v.Z.Text,{style:{fontSize:24,fontWeight:500},children:L&&L.amountOut||" "}),z?(0,e.jsx)(w.Z.Button,{active:!0}):(0,e.jsxs)(v.Z.Text,{style:{fontSize:24,fontWeight:500},children:[L&&L.increasedPoolShare||" ","%"]})]})]}),(0,e.jsx)(ge.Z,{height:50,onClick:ae,conditions:[{condition:!!M,text:M,type:"default",onClick:function(){}},{condition:!g,text:"Input Amount",type:"primary",onClick:function(){}}],children:"Add Liquidity"})]})})},we=function(i){var j=i.defalutPool,Z=i.actionType,d=(0,W.useModel)("chain"),y=d.chain,m=d.wallet,S=d.osdData,V=d.poolTokenExtList,$=d.updataTokens;if(!m||!y||!S)return(0,e.jsx)(e.Fragment,{});var pe=(0,W.useIntl)(),Te=pe.formatMessage,k=he.Z.useToken(),b=k.token,Ce=b.colorPrimary,Ze=b.boxShadow,ke=b.colorInfoBg,Ue=b.colorBgContainer,re=b.colorText,G=b.colorTextSecondary,H=(0,n.useState)(!1),J=r()(H,2),K=J[0],Q=J[1],X=(0,n.useState)(0),g=r()(X,2),p=g[0],oe=g[1],Y=(0,n.useState)(""),M=r()(Y,2),se=M[0],be=M[1],q=(0,n.useState)(j),h=r()(q,2),u=h[0],le=h[1],_=(0,n.useState)(!1),z=r()(_,2),D=z[0],ee=z[1],te=(0,n.useState)(),L=r()(te,2),A=L[0],B=L[1],N=(0,n.useMemo)(function(){return{label:"Balance",value:u.userLpBalance}},[u]),Pe=(0,n.useMemo)(function(){return u&&p?(Number(p)*Number(u.userOraclePrice)).toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","):""},[u,p]),ie=(0,n.useCallback)(R()(C()().mark(function a(){var s,c,l,f;return C()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return ee(!0),o.next=3,(0,F.kT)({chain:y,wallet:m,token:u,amount:p,osdData:S});case 3:if(s=o.sent,c=r()(s,2),l=c[0],f=c[1],ee(!1),!f){o.next=11;break}return I.ZP.error(f.error),o.abrupt("return");case 11:l&&B(de()({},l));case 12:case"end":return o.stop()}},a)})),[y,m,u,p]),ne=(0,Se.Z)(ie,{wait:500}),O=ne.run,ae=function(s){oe(s),O()},T=function(){var a=R()(C()().mark(function s(){var c,l,f,x;return C()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return Q(!0),P.next=3,(0,F.o$)({chain:y,wallet:m,token:u,amount:p});case 3:if(c=P.sent,l=r()(c,2),f=l[0],x=l[1],!f){P.next=12;break}if(!f.hash){P.next=12;break}return I.ZP.success("removeLiq"+f.hash),P.next=12,$();case 12:x&&I.ZP.error(x.error),Q(!1);case 14:case"end":return P.stop()}},s)}));return function(){return a.apply(this,arguments)}}();return(0,e.jsx)(ve.Z,{spinning:K,children:(0,e.jsxs)("div",{className:"hayMarginWrap",children:[(0,e.jsx)(je.Z,{amount:p,currentToken:u,tokenList:V,onAmountChange:ae,onTokenChange:function(s){le(s),O()},header:u&&(0,e.jsxs)("div",{className:"label",children:[(0,e.jsx)(v.Z.Text,{style:{fontSize:12},children:"Burn Pool share:"}),(0,e.jsxs)(v.Z.Text,{style:{fontSize:12,color:G},onClick:function(){return ae(Number(N.value))},children:[N.label,": ",(0,e.jsx)("span",{style:{color:Ce},children:N.value})]})]}),maxValue:Number(N.value)||0,type:"lpToken"}),(0,e.jsx)("div",{className:"arrow",children:(0,e.jsx)(xe.Z,{style:{color:G}})}),(0,e.jsxs)("div",{className:"card",style:{background:ke,marginLeft:0},children:[(0,e.jsx)("div",{className:"label",children:(0,e.jsx)(v.Z.Text,{style:{fontSize:12},children:"Receive:"})}),(0,e.jsxs)("div",{className:"receiveValue",children:[(0,e.jsxs)("div",{className:"valueWrap",children:[D?(0,e.jsx)(w.Z.Button,{active:!0}):(0,e.jsx)(v.Z.Text,{style:{fontSize:24,fontWeight:500},children:A&&A.outToken||" "}),(0,e.jsx)(me.Z,{icon:(0,e.jsx)(ye.Z,{src:u.icon,tokenId:u.id,size:20}),style:{display:"flex",alignItems:"center",border:"none"},children:(0,e.jsx)(v.Z.Text,{strong:!0,style:{marginLeft:5},children:u.symbol})})]}),(0,e.jsxs)("div",{className:"valueWrap",children:[D?(0,e.jsx)(w.Z.Button,{active:!0}):(0,e.jsx)(v.Z.Text,{style:{fontSize:24,fontWeight:500},children:A&&A.outOsd||" "}),(0,e.jsx)(me.Z,{icon:(0,e.jsx)(ye.Z,{src:S.icon,tokenId:S.id,size:20}),style:{display:"flex",alignItems:"center",border:"none"},children:(0,e.jsx)(v.Z.Text,{strong:!0,style:{marginLeft:5},children:S.symbol})})]})]})]}),(0,e.jsx)(ge.Z,{height:50,onClick:T,conditions:[{condition:!!se,text:se,type:"default",onClick:function(){}},{condition:!p,text:"Input Amount",type:"primary",onClick:function(){}}],children:"Remove Liquidity"})]})})},Ee=function(i){var j=i.defaultAction,Z=ce()(i,De),d=(0,n.useState)(),y=r()(d,2),m=y[0],S=y[1];return(0,n.useEffect)(function(){S(j)},[j]),(0,e.jsxs)(fe.Z,{gutter:[10,10],children:[(0,e.jsx)(E.Z,{span:"24",children:(0,e.jsx)(Me.Z,{style:{width:"100%"},value:m,onChange:function($){return S($)},block:!0,options:[{label:(0,e.jsx)("div",{style:{padding:4},children:(0,e.jsx)("div",{children:"Add Liquidity"})}),value:"add"},{label:(0,e.jsx)("div",{style:{padding:4},children:(0,e.jsx)("div",{children:"Remove Liquidity"})}),value:"remove"}]})}),(0,e.jsx)(E.Z,{span:"24",style:{overflow:"hidden"},children:(0,e.jsxs)(fe.Z,{wrap:!1,gutter:[20,20],children:[(0,e.jsx)(E.Z,{span:"24",style:{display:m==="add"?"block":"none"},children:(0,e.jsx)(Re,{defalutPool:Z.currentPool,actionType:"add"})}),(0,e.jsx)(E.Z,{span:"24",style:{display:m==="remove"?"block":"none"},children:(0,e.jsx)(we,{defalutPool:Z.currentPool,actionType:"remove"})})]})})]})},We=function(i){var j=i.show,Z=i.onClose,d=ce()(i,Oe);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ze.Z,{show:j,onClose:Z,closable:!0,maskClosable:!1,title:"Liquidity",children:(0,e.jsx)(Ee,de()({},d))})})},Fe=We}}]);
