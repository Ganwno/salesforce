"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[776],{32761:function(J,j,e){e.r(j),e.d(j,{default:function(){return o}});var R=e(63228),D=e(67294),S={chart:"chart___zk4s6"},d=e(70794),k=e(41687),N=e(85893),C="#20BBBB",f=0,r=100,i=function(G){var z=G.detail,v=(0,k.useIntl)(),V=v.formatMessage,t=z.utilRate,A=z.assets,O=z.id;console.log(t,"utilRateutilRateutilRateutilRate");var I=A.base,x=A.optimal,W=A.slope1,E=A.slope2,c=function(){for(var M=I,y=x,a=W,u=E,w=new d.Z(a).minus(M).div(new d.Z(y).minus(f)),Y=new d.Z(u).minus(a).div(new d.Z(r).minus(y)),P=[],p=f;p<r+1;p++)p<y?P.push(w.multipliedBy(new d.Z(p).minus(f)).plus(M).toFixed(2)):P.push(Y.multipliedBy(new d.Z(p).minus(y)).plus(a).toFixed(2));return P};return(0,D.useEffect)(function(){var n=document.getElementById("J_Chart");if(!!n){var M=R.S1(n),y={xAxis:{type:"category",show:!1,data:Object.keys(Array.from({length:r+1})),axisTick:{alignWithLabel:!0},axisLine:{onZero:!0},axisPointer:{value:null}},yAxis:{type:"value",show:!1},series:[{data:c(),type:"line",showSymbol:!1,lineStyle:{color:C},itemStyle:{color:C},markLine:{symbol:["none","none"],label:{formatter:function(u){return console.log(u),"".concat(V({id:"utilization_rate"}),`:
 `).concat(u.value,"%")}},data:[{xAxis:t.multipliedBy(100).toNumber()}]}}],tooltip:{trigger:"axis",valueFormatter:function(u){return"Utilization Rate: "+u+"%"},formatter:function(u){return"Utilization Rate: ".concat(u[0].axisValue,"% Borrow APR: ").concat(u[0].value,"%")}}};M.setOption(y)}},[O]),(0,N.jsx)("div",{id:"J_Chart",className:S.chart})},o=i},62548:function(J,j,e){e.r(j),e.d(j,{default:function(){return W}});var R=e(97857),D=e.n(R),S=e(13769),d=e.n(S),k=e(67294),N=e(75302),C=e(92195),f=e(71230),r=e(15746),i=e(51158),o=e(7075),m=e(71577),G=e(41687),z=e(32761),v=e(80331),V=e(93417),t=e(85893),A=["show","onCancel"],O=N.ZP.useBreakpoint,I=function(c){var n=c.details,M=c.handleAddLiq,y=c.handleBorrow,a=c.handleRemoveLiq,u=c.handleRepay;if(!n)return(0,t.jsx)(t.Fragment,{});var w=O(),Y=w.md,P=n.symbol,p=n.userLpSupply,X=n.poolReserve,B=n.poolOsd,Q=n.icon,L=n.apr,b=n.lendingApr,l=(0,G.useIntl)(),oe=C.Z.useToken(),U=oe.token,le=U.colorBgContainer,T=U.colorInfoBg,H=U.fontSizeLG,Me=U.colorTextSecondary,$=[{key:l.formatMessage({id:"pool_size"}),value:Number(X).toFixed(2)+" | "+Number(B).toFixed(2)},{key:P+l.formatMessage({id:"lp_supply"}),value:Number(p).toFixed(2)},{key:l.formatMessage({id:"borrowed"})+" | "+l.formatMessage({id:"utilization_rate"}),value:""},{key:l.formatMessage({id:"reward_apr"}),value:""},{key:l.formatMessage({id:"spot_volume"}),value:""},{key:l.formatMessage({id:"swap_fee"}),value:""},{key:l.formatMessage({id:"swap_fee_apr"}),value:""},{key:l.formatMessage({id:"total_supply_apr"}),value:""},{key:l.formatMessage({id:"revenue"}),value:""}];return(0,t.jsxs)(f.Z,{gutter:[20,20],children:[(0,t.jsx)(r.Z,{span:Y?"12":"24",children:(0,t.jsx)(i.ZP,{dataSource:$,renderItem:function(K){return(0,t.jsxs)(i.ZP.Item,{children:[(0,t.jsx)(o.Z.Text,{children:K.key}),(0,t.jsx)(o.Z.Text,{children:K.value})]})}})}),(0,t.jsx)(r.Z,{span:Y?"12":"24",children:(0,t.jsxs)("div",{className:"right",children:[(0,t.jsxs)("div",{className:"chart_wrap",style:{background:T},children:[(0,t.jsxs)("div",{className:"title",children:[(0,t.jsx)(v.Z,{src:n.icon,size:20,tokenId:n.id}),(0,t.jsx)(o.Z.Text,{style:{marginLeft:4},children:n.symbol})]}),(0,t.jsx)("div",{className:"chart",children:(0,t.jsx)(z.default,{detail:n})}),(0,t.jsxs)("div",{className:"aprs",children:[(0,t.jsx)("div",{children:(0,t.jsxs)(o.Z.Text,{children:[" ",l.formatMessage({id:"borrow_apr"}),": ",(0,t.jsxs)("span",{className:"shortColor",children:[L,"%"]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(o.Z.Text,{children:[l.formatMessage({id:"lending_apr"}),": ",(0,t.jsxs)("span",{className:"longColor",children:[b,"%"]})]})})]})]}),(0,t.jsxs)(f.Z,{gutter:[10,12],children:[(0,t.jsx)(r.Z,{span:"12",children:(0,t.jsx)(m.Z,{type:"primary",size:"large",block:!0,className:"btn",onClick:function(){return y(n)},children:l.formatMessage({id:"borrow"})})}),(0,t.jsx)(r.Z,{span:"12",children:(0,t.jsx)(m.Z,{type:"primary",size:"large",block:!0,className:"btn",onClick:function(){return u(n)},children:l.formatMessage({id:"repay"})})}),(0,t.jsx)(r.Z,{span:"12",children:(0,t.jsx)(m.Z,{type:"primary",size:"large",block:!0,className:"btn",onClick:function(){return M(n)},children:l.formatMessage({id:"deposit"})})}),(0,t.jsx)(r.Z,{span:"12",children:(0,t.jsx)(m.Z,{type:"primary",size:"large",block:!0,className:"btn",onClick:function(){return a(n)},children:l.formatMessage({id:"remove"})})})]})]})})]})},x=function(c){var n=c.show,M=c.onCancel,y=d()(c,A),a=O();return(0,t.jsx)(V.Z,{show:n,onClose:M,modalWidth:930,children:(0,t.jsx)("div",{className:" modalWrap poolDetail",children:(0,t.jsx)(I,D()({},y))})})},W=x},87896:function(J,j,e){e.r(j),e.d(j,{default:function(){return p}});var R=e(97857),D=e.n(R),S=e(13769),d=e.n(S),k=e(19632),N=e.n(k),C=e(15009),f=e.n(C),r=e(99289),i=e.n(r),o=e(5574),m=e.n(o),G=e(49677),z=e.n(G),v=e(67294),V=e(75302),t=e(92195),A=e(27790),O=e(71230),I=e(15746),x=e(7075),W=e(43262),E=e(41687),c=e(12699),n=e(6377),M=e(93417),y=e(90494),a=e(85893),u=["show","onCancel"],w=V.ZP.useBreakpoint,Y=function(B){z()(B);var Q=(0,E.useModel)("chain"),L=Q.poolTokenExtList,b=Q.osdData,l=w(),oe=l.md,U=(0,E.useIntl)(),le=t.Z.useToken(),T=le.token,H=T.colorPrimary,Me=T.boxShadow,$=T.colorInfoBg,F=T.colorBgContainer,K=T.colorText,q=T.colorTextSecondary,se=(0,E.useModel)("chain"),ie=se.chain,ce=se.wallet,ue=(0,v.useRef)(),_=(0,v.useRef)(),Ie=(0,v.useState)(null),de=m()(Ie,2),s=de[0],pe=de[1],Le=(0,v.useState)(""),me=m()(Le,2),ee=me[0],ve=me[1],Ze=(0,v.useState)(""),ye=m()(Ze,2),te=ye[0],Se=ye[1],Ne=(0,v.useState)(!1),ge=m()(Ne,2),Ce=ge[0],he=ge[1],Ae=function(h){ve(h)},Te=(0,v.useState)(!1),je=m()(Te,2),Ee=je[0],fe=je[1],De=(0,v.useMemo)(function(){if(s&&L.length>0){var g=L.find(function(h){return h.id===s.id});if(g)return!0}return!1},[L,s]),ze=function(){var g=i()(f()().mark(function h(){var xe,ae,ne,re;return f()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!ie||!s||!b||!ce)){Z.next=2;break}return Z.abrupt("return");case 2:return he(!0),Z.next=5,(0,n.ZG)({chain:ie,wallet:ce,amount:ee,price:te,token:s,osdTokenDecimal:b.tokenDecimal});case 5:if(xe=Z.sent,ae=m()(xe,2),ne=ae[0],re=ae[1],he(!1),!re){Z.next=13;break}return A.ZP.error(re.error),Z.abrupt("return");case 13:ne&&ne.hash;case 14:case"end":return Z.stop()}},h)}));return function(){return g.apply(this,arguments)}}();return L.length===0?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(O.Z,{gutter:[10,10],children:[(0,a.jsxs)(I.Z,{span:"24",children:[" ",(0,a.jsx)(x.Z.Title,{level:4,style:{textAlign:"center",margin:0},children:"Create A New Pool"})]}),(0,a.jsx)(I.Z,{span:"24",style:{padding:0},children:(0,a.jsx)(y.Z,{amount:ee,header:s&&(0,a.jsxs)("div",{className:"label",children:[(0,a.jsx)(x.Z.Text,{style:{fontSize:12,color:q},children:"Add Amount"}),(0,a.jsxs)(x.Z.Text,{style:{fontSize:12,color:q},onClick:function(){return ve(s?.userTokenBalance)},children:["Balance: ",(0,a.jsx)("span",{style:{color:H},children:s&&Number(s?.userTokenBalance).toFixed(4)})]})]}),onAmountChange:Ae,currentToken:s,tokenList:[].concat(N()(L),[b]),onTokenChange:pe,showSlider:!1})}),(0,a.jsxs)(I.Z,{span:"24",className:"carduUsd",style:{background:$},children:[(0,a.jsx)(W.Z,{className:"inputTxt",value:te,onChange:function(h){return Se(h)},min:"0",placeholder:"0.00",bordered:!1,controls:!1,formatter:function(h){return"$ ".concat(h).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(h){return h.replace(/\$\s?|(,*)/g,"")},style:{textAlign:"right"},ref:_}),(0,a.jsx)(x.Z.Text,{style:{fontSize:20,color:q,textAlign:"right"},strong:!0,children:"Set a price(USD)"})]}),(0,a.jsx)(I.Z,{span:"24",children:(0,a.jsxs)(x.Z.Text,{style:{fontSize:12},children:["Liquidity providers earn swap fees on all trades, fees go directly back to respective pools, fees are claimed proportional to your pool share by withdrawing your liquidity from pool. Learn more about ",(0,a.jsx)(x.Z.Link,{href:"https://onchaintrade.gitbook.io/ot/amm-and-lp/single-side-liquidity",target:"_blank",style:{color:H},children:"Liquidity"})]})}),(0,a.jsx)(I.Z,{span:"24",children:(0,a.jsx)(c.Z,{onClick:ze,loading:Ce,conditions:[{condition:!s,text:"Select Asset",type:"primary",onClick:function(){console.log("wtffffff"),fe(!0)}},{condition:De,text:"Pool Already Exists",type:"primary",onClick:function(){fe(!0)}},{condition:!ee,text:"Enter Amount",type:"default",onClick:function(){console.log("111"),ue.current&&ue.current.focus()}},{condition:!te,text:"Set Price of "+(s&&s?.symbol),type:"default",onClick:function(){console.log("111"),_.current&&_.current.focus()}}],children:"Add Liquidity"})})]})},P=function(B){var Q=B.show,L=B.onCancel,b=d()(B,u),l=w();return(0,a.jsx)(M.Z,{show:Q,onClose:L,children:(0,a.jsx)("div",{className:" modalWrap createPool",children:(0,a.jsx)(Y,D()({},b))})})},p=P},12168:function(J,j,e){var R=e(67294),D=Object.defineProperty,S=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,N=(r,i,o)=>i in r?D(r,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[i]=o,C=(r,i)=>{for(var o in i||(i={}))d.call(i,o)&&N(r,o,i[o]);if(S)for(var o of S(i))k.call(i,o)&&N(r,o,i[o]);return r};const f=r=>React.createElement("svg",C({width:20,height:25,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.316a4 4 0 0 1 2.689-3.78l6-2.081a4 4 0 0 1 2.622 0l6 2.082A4 4 0 0 1 20 6.316v7.477c0 5.62-4.14 10.383-9.706 11.166a2.111 2.111 0 0 1-.588 0A11.276 11.276 0 0 1 0 13.793V6.316Z",fill:"#03CDC1"}),React.createElement("g",{filter:"url(#osd_svg__a)"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.64 17.046c.526-1.186.788-2.562.788-4.129v-.89c-.007-1.559-.276-2.924-.809-4.095-.532-1.18-1.287-2.08-2.267-2.702-.972-.63-2.09-.944-3.352-.944-1.263 0-2.384.318-3.363.955-.973.63-1.728 1.541-2.267 2.734-.533 1.194-.799 2.57-.799 4.13v.9c.007 1.53.277 2.88.81 4.052.538 1.172 1.298 2.076 2.277 2.713.986.63 2.107.944 3.363.944 1.27 0 2.391-.315 3.363-.944.98-.637 1.732-1.545 2.257-2.724Zm-1.96-2.903c-.118 1.21-.423 2.17-.913 2.881-.638.938-1.554 1.406-2.746 1.406-1.178 0-2.1-.48-2.767-1.439-.497-.722-.807-1.672-.93-2.848h7.356Zm.044-2.629c-.064-1.496-.386-2.665-.967-3.506-.646-.944-1.565-1.416-2.757-1.416-1.164 0-2.076.472-2.735 1.416-.591.848-.92 2.017-.988 3.506h7.447Z",fill:"#fff"})),React.createElement("defs",null,React.createElement("filter",{id:"osd_svg__a",x:.714,y:2.143,width:18.572,height:22.143,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},React.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),React.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),React.createElement("feOffset",{dy:.714}),React.createElement("feGaussianBlur",{stdDeviation:1.429}),React.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),React.createElement("feColorMatrix",{values:"0 0 0 0 0.290196 0 0 0 0 0.290196 0 0 0 0 0.886275 0 0 0 0.4 0"}),React.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_7119_29469"}),React.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_7119_29469",result:"shape"}))));j.Z="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDYuMzE2YTQgNCAwIDAgMSAyLjY4OS0zLjc4bDYtMi4wODFhNCA0IDAgMCAxIDIuNjIyIDBsNiAyLjA4MkE0IDQgMCAwIDEgMjAgNi4zMTZ2Ny40NzdjMCA1LjYyLTQuMTQgMTAuMzgzLTkuNzA2IDExLjE2NmEyLjExMSAyLjExMSAwIDAgMS0uNTg4IDBBMTEuMjc2IDExLjI3NiAwIDAgMSAwIDEzLjc5M1Y2LjMxNloiIGZpbGw9IiMwM0NEQzEiLz48ZyBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTUuNjQgMTcuMDQ2Yy41MjYtMS4xODYuNzg4LTIuNTYyLjc4OC00LjEyOXYtLjg5Yy0uMDA3LTEuNTU5LS4yNzYtMi45MjQtLjgwOS00LjA5NS0uNTMyLTEuMTgtMS4yODctMi4wOC0yLjI2Ny0yLjcwMi0uOTcyLS42My0yLjA5LS45NDQtMy4zNTItLjk0NC0xLjI2MyAwLTIuMzg0LjMxOC0zLjM2My45NTUtLjk3My42My0xLjcyOCAxLjU0MS0yLjI2NyAyLjczNC0uNTMzIDEuMTk0LS43OTkgMi41Ny0uNzk5IDQuMTN2LjljLjAwNyAxLjUzLjI3NyAyLjg4LjgxIDQuMDUyLjUzOCAxLjE3MiAxLjI5OCAyLjA3NiAyLjI3NyAyLjcxMy45ODYuNjMgMi4xMDcuOTQ0IDMuMzYzLjk0NCAxLjI3IDAgMi4zOTEtLjMxNSAzLjM2My0uOTQ0Ljk4LS42MzcgMS43MzItMS41NDUgMi4yNTctMi43MjRabS0xLjk2LTIuOTAzYy0uMTE4IDEuMjEtLjQyMyAyLjE3LS45MTMgMi44ODEtLjYzOC45MzgtMS41NTQgMS40MDYtMi43NDYgMS40MDYtMS4xNzggMC0yLjEtLjQ4LTIuNzY3LTEuNDM5LS40OTctLjcyMi0uODA3LTEuNjcyLS45My0yLjg0OGg3LjM1NlptLjA0NC0yLjYyOWMtLjA2NC0xLjQ5Ni0uMzg2LTIuNjY1LS45NjctMy41MDYtLjY0Ni0uOTQ0LTEuNTY1LTEuNDE2LTIuNzU3LTEuNDE2LTEuMTY0IDAtMi4wNzYuNDcyLTIuNzM1IDEuNDE2LS41OTEuODQ4LS45MiAyLjAxNy0uOTg4IDMuNTA2aDcuNDQ3WiIgZmlsbD0iI2ZmZiIvPjwvZz48ZGVmcz48ZmlsdGVyIGlkPSJhIiB4PSIuNzE0IiB5PSIyLjE0MyIgd2lkdGg9IjE4LjU3MiIgaGVpZ2h0PSIyMi4xNDMiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz48ZmVPZmZzZXQgZHk9Ii43MTQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxLjQyOSIvPjxmZUNvbXBvc2l0ZSBpbjI9ImhhcmRBbHBoYSIgb3BlcmF0b3I9Im91dCIvPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjI5MDE5NiAwIDAgMCAwIDAuMjkwMTk2IDAgMCAwIDAgMC44ODYyNzUgMCAwIDAgMC40IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfNzExOV8yOTQ2OSIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd183MTE5XzI5NDY5IiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg=="}}]);
